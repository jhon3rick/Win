/**
 * win - Libreria para web aplicaciones RIA
 * @version v0.0.1
 * @link    https://github.com/jhon3rick/Win.js#readme
 * @author  Jhon Marroquin (Twitter @jhon3rick || email jhon3rick@gmail.com)
 * @license (MIT)
 */
"use strict";var Win;Win=function(){return{Window:function(e){var t,n,i,o,a,r,d,u,l,c,s,p,v,y,m,f,g,b,h,w,T,_;return w=e.width||300,s=e.height||300,p=e.id||"",g=e.title||"",b=e.titleStyle||"",y=e.modal||"",i=e.autoScroll||"",l=e.closable||"",t=e.autoDestroy||"",n=e.autoLoad||"",c=e.drag||"",m=e.resize||"",f=e.theme||"",u=e.bodyStyle||"",d=e.bodyColor||"#FFF",r=document.querySelector("body"),_=document.createElement("div"),T=this,o=e.bgBody?"background-color:"+e.bgBody+";":"",a=e.bgTitle?"background-color:"+e.bgTitle+";":"",_.setAttribute("id","win_modal_"+p),_.setAttribute("class","win-modal"),v=r.offsetWidth<w?0:(r.offsetWidth-w)/2,h=r.offsetHeight<s?0:(r.offsetHeight-s)/2,_.innerHTML='<div style="width:'+w+"; height:"+s+"; top:"+h+"; left:"+v+"; "+o+" "+u+'" id="'+p+'" class="win-marco">\n	<div class="win-title" id="win_title_'+p+'" style="'+a+" "+b+'">\n		<div class="win-title-txt">'+g+'</div>\n		<div class="win-title-btn" id="btn_close_ventana_'+p+"\" onclick=\"document.querySelector('body').removeChild(document.querySelector('#win_modal_"+p+'\'));"></div>\n	</div>\n	<div class="win-div-resize" id="win_div_resize_'+p+'"></div>\n	<div class="win-tbar" id="win_tbar_'+p+'"></div>\n	<div class="win-window-body" id="win_window_'+p+'">Contenido</div>\n</div>\n<script onload>alert(1);</script>',r.appendChild(_),e.tbar.id=p,Win.tbar(e.tbar),e.autoLoad.id=p,Win.autoLoad(e.autoLoad)},tbar:function(e){var t,n;return"object"==typeof e?(t="",n=document.getElementById("win_tbar_"+e.id),e.forEach(function(e,i,o){return"button"===e.xtype?Win.button({tbar:n,align:t,json:e}):"buttongroup"===e.xtype?(e.tbar=n,Win.buttongroup(e)):"tbtext"===e.xtype?Win.tbtext({tbar:n,align:t,json:e}):"-"===e?Win.separator({tbar:n,align:t}):"->"===e?t="right":void 0})):void 0},buttongroup:function(e){},button:function(e){var t,n,i,o,a;return console.log(e.align),a=e.json.text||"",o=e.json.id||"",n=e.json.cls||"",i="right"===e.align?"widge-right":"",t=document.createElement("div"),t.setAttribute("id",o),t.setAttribute("class","win-btn "+n+" "+i),t.innerHTML="<button>"+a+"</button>",t.onclick=e.json.handler,e.tbar.appendChild(t)},tbtext:function(e){var t,n;return n=document.createElement("div"),t="right"===e.align?"widge-right":"",n.setAttribute("id","win_tbtext_"+e.json.id),n.setAttribute("class","win-tbtext "+t),n.innerHTML="<div>"+e.json.text+"</div>",e.tbar.appendChild(n)},separator:function(e){var t,n;return n=document.createElement("div"),t="right"===e.align?"widge-right":"",n.setAttribute("class","win-separator "+t),n.innerHTML="<div>|</div>",e.tbar.appendChild(n)},getButton:function(e){return this.hiden=function(e){return document.getElementById("id").style.display="none"},this.show=function(e){return document.getElementById("id").style.display="block"},e},autoLoad:function(e){var t,n;return n=new XMLHttpRequest,t="bd.php?nameFileUpload=prueba&opc=cancelUploadFile",n.open("POST",t,!0),n.onreadystatechange=function(){var t;4===n.readyState&&(t=n.responseText,document.getElementById("win_window_"+e.id).innerHTML=t)},n.send(null)},Ajax:function(){return{request:function(e){var t,n,i,o,a;if(i="","undefined"==typeof e&&console.warn("Para hacer uso del ajax debe enviar el objeto con los paramteros Win.Ajax.request(obj) \nConsulte la documentacion del proyecto"),"undefined"!=typeof e.params)for(o in e.params)i+=""===i?o+"="+e.params[o]:"&"+o+"="+e.params[o];return a=new XMLHttpRequest,t=e.url+"?"+i,n=e.method||"POST",a.open(n,t,!0),a.onreadystatechange=function(){var t;return 4===a.readyState?(t=a.responseText,e.success(t,a)):e.failure(a)},a.send(null)},load:function(e,t){var n,i,o,a,r,d;if(o="",a="(?:<script.*?>)((\n|\r|.)*?)(?:</script>)","undefined"==typeof t&&console.warn("Para hacer uso del ajax debe enviar el objeto con los paramteros Win.Ajax.load(obj) \nConsulte la documentacion del proyecto"),"undefined"!=typeof t.params)for(r in t.params)o+=""===o?r+"="+t.params[r]:"&"+r+"="+t.params[r];return d=new XMLHttpRequest,n=t.url+"?"+o,i=t.method||"POST",d.open(i,n,!0),d.onreadystatechange=function(){var e;return 4===d.readyState?e=d.responseText:void 0},d.send(null)}}}(),get:function(e){return{load:function(t){var n;return n=document.getElementById(e),Win.Ajax.load(n,t)},element:function(){return document.getElementById(e)}}}}}(),Win.form=function(){return{intField:function(e){return document.getElementById(e.applyTo).className+=" win-input-number",document.getElementById(e.applyTo).onkeypress=function(e){return Win.form.validateIntField({event:e,eventType:"keypress",input:this})},document.getElementById(e.applyTo).onchange=function(e){return Win.form.validateIntField({event:e,eventType:"change",input:this})}},doubleField:function(e){return document.getElementById(e.applyTo).className+=" win-input-number",document.getElementById(e.applyTo).onkeypress=function(e){return Win.form.validateDoubleField({event:e,eventType:"keypress",input:this})},document.getElementById(e.applyTo).onchange=function(e){return Win.form.validateDoubleField({event:e,eventType:"change",input:this})}},textField:function(e){return document.getElementById(e.applyTo).onkeyup=function(t){return Win.form.validateTextField({event:t,eventType:"keyup",input:this,type:e.type})},document.getElementById(e.applyTo).onchange=function(t){return Win.form.validateTextField({event:t,eventType:"change",input:this,type:e.type})}},emailField:function(e){return document.getElementById(e.applyTo).onchange=function(e){return Win.form.validateEmailField({event:e,input:this})}},globalField:function(e){},validateIntField:function(e){var t;return t=document.all?e.event.keyCode:e.event.which,8===t||9===t||0===t||13===t?!0:"keypress"===e.eventType?/\d/.test(String.fromCharCode(t)):"change"===e.eventType?e.input.value=e.input.value.replace(/[^\d.]/g,""):void 0},validateDoubleField:function(e){var t,n,i;return n=document.all?e.event.keyCode:e.event.which,8===n||9===n||0===n||13===n?!0:"keypress"===e.eventType?/[\d.]/.test(String.fromCharCode(n)):"change"!==e.eventType||(e.input.value=e.input.value.replace(/[^\d.]/g,""),console.log(!!e.input.value.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)),i=!!e.input.value.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/))?void 0:(t=e.input.value.split("."),e.input.value=t[0]+"."+t[1])},validateTextField:function(e){var t;if(t=document.all?e.event.keyCode:e.event.which,8===t||9===t||0===t||13===t)return!0;if("keyup"===e.eventType){if("uppercase"===e.type)return e.input.value=e.input.value.toUpperCase();if("lowercase"===e.type)return e.input.value=e.input.value.toLowerCase()}else if("change"===e.eventType)return e.input.value=e.input.value.replace(/[\#\-\"\']/g,"")},validateEmailField:function(e){var t;return t=!!e.input.value.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i),t?void 0:(e.input.value="",e.input.focus())}}}();