/**
 * win - Libreria para web aplicaciones RIA
 * @version v0.3
 * @link    https://github.com/jhon3rick/Win.js#readme
 * @author  Jhon Marroquin (Twitter @jhon3rick || email jhon3rick@gmail.com)
 * @license (MIT)
 */
(function(){"use strict";var Win,hasProp={}.hasOwnProperty;Win=function(){var e,t,n,i,r,a,o,l,d,s;return i=[],o=Object.prototype,a=/^\s*<(\w+|!)[^>]*>/,n=[1,9,11],t=/^\.([\w-]+)$/,r=/^#[\w\d-]+$/,l=/^[\w-]+$/,e=function(t,n){var i;return t?"function"===e.toType(t)?e(document).ready(t):(i=d(t,n),s(i,t)):s()},e.query=function(e,n){var i;return t.test(n)?i=e.getElementsByClassName(n.replace(".","")):l.test(n)?i=e.getElementsByTagName(n):r.test(n)&&e===document?(i=e.getElementById(n.replace("#","")),i||(i=[])):i=e.querySelectorAll(n),i.nodeType?[i]:Array.prototype.slice.call(i)},e.toType=function(e){var t;return t=o.toString.call(e).match(/\s([a-z|A-Z]+)/),t.length>1?t[1].toLowerCase():"object"},e.each=function(t,n){var i,r,a,o,l;if(r=void 0,o=void 0,"array"===e.toType(t))for(r=a=0,l=t.length;l>a;r=++a)i=t[r],n.call(i,r,i)===!1;else for(o in t)n.call(t[o],o,t[o])===!1;return t},s=function(e,t){return null==t&&(t=""),e=e||i,e.selector=t,e.__proto__=s.prototype,e},d=function(t,i){var r,o;return r=null,o=e.toType(t),"array"===o?r=_compact(t):"string"===o&&a.test(t)?(r=_fragment(t.trim(),RegExp.$1),t=null):"string"===o?(r=e.query(document,t),i&&(r=1===r.length?e.query(r[0],i):e.map(function(){return e.query(r,i)}))):(n.indexOf(t.nodeType)>=0||t===window)&&(r=[t],t=null),r},s.prototype=e.fn={},e.fn.each=function(e){return this.forEach(function(t,n){return e.call(t,n,t)}),this},e.fn.forEach=i.forEach,e.version="0.0.1",e}(),this.Win=this.$W=Win,"undefined"!=typeof module&&null!==module&&(module.exports=Win),function(e){return e.ini=function(t){var n,i,r,a,o,l;if(t.theme){for(o=e("head > link"),r=0,a=o.length;a>r;r++)if(i=o[r],/Win-theme/g.test(i.getAttribute("href")))return n=i.getAttribute("href").split("Win-theme",1),void i.setAttribute("href",n+t.theme);return l=document.createElement("link"),l.setAttribute("rel","stylesheet"),l.setAttribute("href",t.theme),e("head")[0].appendChild(l)}}}(Win),function(e){return e.fn.attr=function(t,n){return this.length>0&&"string"===e.toType(t)?null!=n?this.each(function(){return this.setAttribute(t,n)}):this[0].getAttribute(t):void 0},e.fn.removeAttr=function(t){return this.length>0&&"string"===e.toType(t)?this.each(function(){return this.removeAttribute(t)}):void 0},e.fn.data=function(e,t){return this.attr("data-"+e,t)},e.fn.removeData=function(e){return this.removeAttr("data-"+e)},e.fn.val=function(e){return null!=e?this.each(function(){return this.value=e.toString()}):this.length>0?this[0].value:null},e.fn.show=function(){return this.style("display","block")},e.fn.hide=function(){return this.style("display","none")},e.fn.focus=function(){return this[0].focus()},e.fn.blur=function(){return this[0].blur()},e.fn.offset=function(){var e,t;return this.length>0&&(e=this[0].getBoundingClientRect(),t={left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}),t}}(Win),function(e){var t,n,i;return t=["-webkit-","-moz-","-ms-","-o-",""],e.fn.addClass=function(e){return this.each(function(){var t,i,r,a,o;for(r=n(e),a=[],t=0,i=r.length;i>t;t++)o=r[t],a.push(this.classList.add(o));return a})},e.fn.removeClass=function(e){return this.each(function(){var t,i,r,a,o;for(r=n(e),a=[],t=0,i=r.length;i>t;t++)o=r[t],a.push(this.classList.remove(o));return a})},e.fn.toggleClass=function(e){return this.each(function(){var t,i,r,a,o;for(r=n(e),a=[],t=0,i=r.length;i>t;t++)o=r[t],a.push(this.classList.toggle(o));return a})},e.fn.hasClass=function(e){return this.length>0&&this[0].classList.contains(e)},e.fn.listClass=function(){return this.length>0?this[0].classList:void 0},e.fn.style=e.fn.css=function(e,t){var n;return null!=t?this.each(function(){return this.style[e]=t}):(n=this[0],n.style[e]||i(n,e))},e.fn.vendor=function(e,n){var i,r,a,o;for(o=[],i=0,r=t.length;r>i;i++)a=t[i],o.push(this.style(""+a+e,n));return o},i=function(e,t){return document.defaultView.getComputedStyle(e,"")[t]},n=function(e){return Array.isArray(e)||(e=[e]),e}}(Win),function(e){var t,n,i,r,a,o,l,d,s,u,c,f,p;return t=1,r={},i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",orientationchange:"resize"},a=/complete|loaded|interactive/,e.fn.on=function(t,n,i){return null==n||"function"===e.toType(n)?this.bind(t,n):this.delegate(n,t,i)},e.fn.off=function(t,n,i){return null==n||"function"===e.toType(n)?this.unbind(t,n):this.undelegate(n,t,i)},e.fn.ready=function(t){return a.test(document.readyState)?t.call(this,e):e.fn.addEvent(document,"DOMContentLoaded",function(){return t.call(this,e)})},e.fn.bind=function(e,t){return this.forEach(function(n){return f(n,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){return p(this,e,t)})},e.fn.delegate=function(t,n,i){return this.each(function(r,a){return f(a,n,i,t,function(n){return function(i){var r,l;return l=e(i.target).closest(t,a).get(0),l?(r=e.extend(o(i),{currentTarget:l,liveFired:a}),n.apply(l,[r].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,n){return this.each(function(){return p(this,t,n,e)})},e.fn.trigger=function(t,n,i){return"string"===e.toType(t)&&(t=s(t,n)),null!=i&&(t.originalEvent=i),this.each(function(){return this.dispatchEvent(t)})},e.fn.addEvent=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},e.fn.removeEvent=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},s=function(e,t){var n;return n=document.createEvent("Events"),n.initEvent(e,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),t&&(n.touch=t),n},f=function(t,n,i,a,o){var s,u,f,p;return n=d(n),f=c(t),u=r[f]||(r[f]=[]),s=o&&o(i,n),p={event:n,callback:i,selector:a,proxy:l(s,i,t),delegate:s,index:u.length},u.push(p),e.fn.addEvent(t,p.event,p.proxy)},p=function(t,n,i,a){var o;return n=d(n),o=c(t),u(o,n,i,a).forEach(function(n){return delete r[o][n.index],e.fn.removeEvent(t,n.event,n.proxy)})},c=function(e){return e._id||(e._id=t++)},d=function(t){var i;return i=("function"==typeof e.isMobile?e.isMobile():void 0)?t:n[t],i||t},l=function(e,t,n){var i;return t=e||t,i=function(e){var i;return i=t.apply(n,[e].concat(e.data)),i===!1&&e.preventDefault(),i}},u=function(e,t,n,i){return(r[e]||[]).filter(function(e){return e&&(!t||e.event===t)&&(!n||e.callback===n)&&(!i||e.selector===i)})},o=function(t){var n;return n=e.extend({originalEvent:t},t),e.each(i,function(e,i){return n[e]=function(){return this[i]=function(){return!0},t[e].apply(t,arguments)},n[i]=function(){return!1}}),n}}(Win),function(e){var t,n,i,r;return t="parentNode",e.fn.find=function(t){var n;return n=1===this.length?Quo.query(this[0],t):this.map(function(){return Quo.query(this,t)}),e(n)},e.fn.parent=function(e){var r;return r=e?i(this):this.instance(t),n(r,e)},e.fn.children=function(e){var t;return t=this.map(function(){return Array.prototype.slice.call(this.children)}),n(t,e)},e.fn.siblings=function(e){var t;return t=this.map(function(e,t){return Array.prototype.slice.call(t.parentNode.children).filter(function(e){return e!==t})}),n(t,e)},e.fn.get=function(e){return this[e]||null},e.fn.first=function(){return e(this[0])},e.fn.last=function(){return e(this[this.length-1])},e.fn.closest=function(t,n){var i,r;for(r=this[0],i=e(t),i.length||(r=null);r&&i.indexOf(r)<0;)r=r!==n&&r!==document&&r.parentNode;return e(r)},e.fn.next=function(){return r.call(this,"nextSibling")},e.fn.prev=function(){return r.call(this,"previousSibling")},e.fn.instance=function(e){return this.map(function(){return this[e]})},e.fn.map=function(t){return e.map(this,function(e,n){return t.call(e,n,e)})},i=function(t){var n;for(n=[];t.length>0;)t=e.map(t,function(e){return e=e.parentNode,e!==document&&n.indexOf(e)<0?(n.push(e),e):void 0});return n},n=function(t,n){return null!=n?e(t).filter(n):e(t)},r=function(t){var n;for(n=this[0][t];n&&1!==n.nodeType;)n=n[t];return e(n)}}(Win),function(e){return e.fn.text=function(e){return null!=e?this.each(function(){return this.textContent=e}):this.length>0?this[0].textContent:""},e.fn.html=function(t){var n;return null!=t?(n=e.toType(t),this.each(function(){return"string"===n?this.innerHTML=t:"array"===n?t.forEach(function(t){return function(n){return e(t).html(n)}}(this)):this.innerHTML+=e(t).html()})):this.length>0?this[0].innerHTML:""},e.fn.remove=function(){return this.each(function(){return null!=this.parentNode?this.parentNode.removeChild(this):void 0})},e.fn.empty=function(){return this.each(function(){return this.innerHTML=null})},e.fn.append=function(t){var n;return n=e.toType(t),this.each(function(){return"string"===n?this.insertAdjacentHTML("beforeend",t):"array"===n?t.forEach(function(t){return function(n){return e(t).append(n)}}(this)):this.appendChild(t)})},e.fn.prepend=function(t){var n;return n=e.toType(t),this.each(function(){return"string"===n?this.insertAdjacentHTML("afterbegin",t):"array"===n?t.each(function(e){return function(t,n){return e.insertBefore(n,e.firstChild)}}(this)):this.insertBefore(t,this.firstChild)})},e.fn.replaceWith=function(t){var n;return n=e.toType(t),this.each(function(){return this.parentNode?"string"===n?this.insertAdjacentHTML("beforeBegin",t):"array"===n?t.each(function(e){return function(t,n){return e.parentNode.insertBefore(n,e)}}(this)):this.parentNode.insertBefore(t,this):void 0}),this.remove()}}(Win),function($W){return $W.Script={},$W.Script.strReplace=function(e,t,n){for(;-1!==e.toString().indexOf(t);)e=e.toString().replace(t,n);return e},$W.Script.numberTechnical=function(e,t){var n,i,r,a,o,l,d,s;if(n="",49===e&&!isNaN(t)){for(l=0,d=0,s=t.length,o=[16],o[1]=3,o[2]=7,o[3]=13,o[4]=17,o[5]=19,o[6]=23,o[7]=29,o[8]=37,o[9]=41,o[10]=43,o[11]=47,o[12]=53,o[13]=59,o[14]=67,o[15]=71,r=0,a=s.length;a>r;r++)i=s[r],d=t.substr(i,1),l+=d*o[s-i];d=l%11,n=d>1?11-d:d}return n},$W.Script.dateNow=function(){var e,t,n,i;return t=0,n=0,e=new Date,i=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,t=e.getDate()<10?"0"+e.getDate():e.getDate(),i+"-"+n+"-"+t},$W.Script.timeMeridian=function(e){var t,n,i,r,a;return null===e&&(e="AM/PM"),a=new Date,n=a.getHours(),r=a.getMinutes(),t=12>n?"AM":"PM",10>r&&(r="0"+r),"AM/PM"===e&&(n>12&&(n-=12),10>n&&(n="0"+n),i=n+":"+r+" "+t),"24Hrs"===e&&(10>n&&(n="0"+n),i=n+":"+r),i},$W.Script.timeMysql=function(hora){var A,B,H;return A=hora.split(" "),1===A.length?H=A[0]+":00":2===A.length&&(B=A[0].split(":"),"PM"===A[1]&&(B[0]=eval(B[0])+eval(12)),H=B[0]+":"+B[1]+":00"),H},$W.Script.dateLong=function(e){var t,n,i;return n=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],t=e.split("-"),t[2]+" "+i[t[1]-1]+" de "+t[0]},$W.Script.numberFormat=function(e,t,n,i){var r,a,o,l,d,s,u;return d=e,r=isNaN(t=Math.abs(t))?2:t,a=void 0===n?",":n,u=void 0===i?".":i,s=0>d?"-":"",o=parseInt(d=Math.abs(+d||0).toFixed(r))+"",l=(l=o.length)>3?l%3:0,s+(l?o.substr(0,l)+u:"")+o.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+u)+(r?a+Math.abs(d-o).toFixed(r).slice(2):"")},$W.Script.isJSON=function(e){var t,n;try{return JSON.parse(e),!0}catch(n){return t=n,!1}}}(Win),function($W){var CONTWIDGET,ELEMENTS,_body,_button,_buttonGroup,_closeNotify,_deleteCtxMenu,_disableTab,_draggMove,_draggStart,_draggStop,_findResizeBody,_menuOption,_openNotify,_panel,_resize,_resizeBody,_router,_selectedTab,_separator,_separatorHeight,_tab,_tabPanel,_tbText,_tbar;return CONTWIDGET=0,ELEMENTS={},$W.Window=function(e){var t,n,i,r,a,o,l,d,s,u,c,f,p,v,h,m,y,g,b,_,w,E,T,x,A,N,L,W,I;return t=this,x=e.title||"",L=e.width||300,f=e.height||300,b=void 0===e.scroll?!0:e.scroll,_=void 0===e.scrollX?!0:e.scrollX,w=void 0===e.scrollY?!0:e.scrollY,A=e.titleStyle||"",y=e.modal||"",n=e.autoDestroy||"",i=e.autoLoad||"",v=e.html||"",c=e.drag||"",T=e.theme||"",E=e.style||"",d=e.bodyStyle||"",l=e.bodyColor||"#FFF",o=$W("body")[0],s="undefined"!=typeof e.type&&""!==e.type?"alert":"",e.id?h=e.id:(CONTWIDGET++,h="window-"+CONTWIDGET),I=document.createElement("div"),I.id+="win-modal-"+h,I.className+="win-modal",r=e.bgBody?"background-color:"+e.bgBody+";":"",a=e.bgTitle?"background-color:"+e.bgTitle+";":"",u=e.closable!==!1?'<div class="win-title-btn" id="btn_close_ventana_'+h+'"></div>':"",isNaN(L)?"auto"===L&&(L="calc(100% - 20px)"):L+="px",isNaN(f)?"auto"===f&&(f="calc(100% - 20px)"):f+="px",""===h&&CONTWIDGET++,I.innerHTML+='<div id="'+h+'" style="width:'+L+"; height:"+f+"; "+r+" "+E+'" class="win-marco"> <div class="win-file-resize" data-resize="top" id="win-resize-top-'+h+'"></div> <div class="win-file-resize" data-resize="bottom" id="win-resize-bottom-'+h+'"></div> <div class="win-file-resize" data-resize="left" id="win-resize-left-'+h+'"></div> <div class="win-file-resize" data-resize="right" id="win-resize-right-'+h+'"></div> <header id="win-header-'+h+'"> <div class="win-title" id="win-title-'+h+'" style="'+a+" "+A+'"> <div class="win-title-txt">'+x+"</div> "+u+' </div> </header> <section id="win-section-'+h+'" style="height:calc(100% - 27px);" data-role="win-section">'+v+"</section> </div>",o.appendChild(I),e.closable!==!1&&document.getElementById("btn_close_ventana_"+h).addEventListener("click",function(){return t.close()}),W=document.getElementById(h).offsetWidth,p=document.getElementById(h).offsetHeight,m=o.offsetWidth<W/2?0:(o.offsetWidth-W)/2,N=o.offsetHeight<p/2?0:(o.offsetHeight-p)/2,$W("#"+h).css("left",m+"px").css("top",N+"px"),e.resize&&(_resize($W("#win-resize-top-"+h)[0]),_resize($W("#win-resize-bottom-"+h)[0]),_resize($W("#win-resize-left-"+h)[0]),_resize($W("#win-resize-right-"+h)[0])),g=[],e.items&&(g=e.items),e.autoLoad&&g.push({xtype:"body",scroll:b,scrollX:_,scrollY:w,autoLoad:e.autoLoad}),e.tabpanel&&g.unshift({xtype:"tabpanel",items:e.tabpanel}),e.tbar&&g.unshift({xtype:"tbar",items:e.tbar}),_router(g,"win-section-"+h),t.close=function(){return $W("#win-modal-"+h)[0].parentNode.removeChild($W("#win-modal-"+h)[0])},t},$W.TabPanel=function(e){var t,n;return e.id?n=e.id:(CONTWIDGET++,n="win-tab-"+CONTWIDGET),t="",e.items.forEach(json,index,element)(function(){return t+='<div id="'+n+'">'+json.title+"</div>"}),'<div id="'+e.id+'">'+t+"</div>"},$W.Add=function(e){var t,n,i,r;return r=document.getElementById(e.idApply).getAttribute("data-role"),"win-tbar"===r&&(t=document.getElementById(e.idApply).lastChild,null!==t&&(i=t.getAttribute("data-role"),"div-empty"===i&&t.parentNode.removeChild(t))),n=[],e.items&&(n=e.items),e.autoLoad&&n.push({xtype:"body",autoLoad:e.autoLoad}),e.tabpanel&&n.unshift({xtype:"tabpanel",items:e.tabpanel}),e.tbar&&n.unshift({xtype:"tbar",items:e.tbar}),_router(n,e.idApply)},$W.Tbar=function(e){var t;return t=document.getElementById(""+e.idApply),t.className="win-tbar",t.setAttribute("data-role","win-tbar"),_router(e.items,e.idApply),setTimeout(function(){return _resizeBody(document.getElementById(e.idApply).parentNode.id)})},$W.Element=function(e){return this.hidden=function(){return void 0!==ELEMENTS[e]?($W("#"+e).style("display","none"),_findResizeBody(e),ELEMENTS[e].hidden=!0):void 0},this.show=function(){return void 0!==ELEMENTS[e]?($W("#"+e).style("display","block"),_findResizeBody(e),ELEMENTS[e].hidden=!1):void 0},this.enable=function(t){return void 0!==ELEMENTS[e]?void 0===t&&"tabpanel"===ELEMENTS[e].type?document.querySelectorAll("#"+e+" [data-state=enable]")||{}:("tabpanel"===ELEMENTS[e].type&&(e=t>=0?document.querySelector("#"+e+" [data-index=index-"+t+"]").id:t),document.getElementById(e).setAttribute("data-state","enable"),ELEMENTS[e].disable=!1):void 0},this.disable=function(t){if(void 0!==ELEMENTS[e]){if("tab"===ELEMENTS[e].type)_disableTab(e);else{if(void 0===t&&"tabpanel"===ELEMENTS[e].type)return document.querySelectorAll("#"+e+" [data-state=disable]")||{};"tabpanel"===ELEMENTS[e].type&&(e=t>=0?document.querySelector("#"+e+" [data-index=index-"+t+"]").id:t,_disableTab(e))}return document.getElementById(e).setAttribute("data-state","disable"),ELEMENTS[e].disable=!0}},this.state=function(t){var n;return n=void 0,void 0===ELEMENTS[e]?n:("tabpanel"===ELEMENTS[e].type?t>=0?(e=document.querySelector("#"+e+" [data-index=index-"+t+"]").id,n=ELEMENTS[e].disable):n=ELEMENTS[t].disable:n=ELEMENTS[e].disable,n?"disable":"enable")},this.selected=function(t){var n;if(void 0===ELEMENTS[e]);else{if("tab"===ELEMENTS[e].type)return _selectedTab(e);if(void 0===t)return document.querySelector("#"+e+" [data-selected=true]")||void 0;if("tabpanel"===ELEMENTS[e].type)return t>=0?(n=document.querySelector("#"+e+" [data-index=index-"+t+"]").id,_selectedTab(n)):_selectedTab(t)}},this},_disableTab=function(e){return document.getElementById("win-tab-body-"+e).innerHTML="",document.getElementById(e).setAttribute("data-load","false"),document.getElementById(e).setAttribute("data-selected","false")},$W.BlockBtn=function(e){return ELEMENTS[e].disable?void 0:($W.Element(e).disable(),setTimeout(function(){return document.getElementById(e)?$W.Element(e).enable():void 0},1500))},$W.Loading=function(e){var t,n,i,r,a,o,l,d,s,u,c,f;return t=this,u=!1,$W("[data-role=win-notify]")[0]&&(u=!0),_closeNotify(),!u||e&&"off"!==e?(e=e||{},r=e.icon||"loader",c=e.text||"Load...",d=e.loader||"default",l=e.idApply||"",f=e.timeOut||"",a=e.iconSize||100,n=e.closable||!1,i="body",e.id?o=e.id:(CONTWIDGET++,o="win-notify-"+CONTWIDGET),""!==l&&document.getElementById(l)&&(i="#"+l),s={icon:r,text:c,iconSize:a,closable:n,timeOut:f},_openNotify(i,o,"loader",s),t.close=function(){return _closeNotify()},!0):!1},$W.Alert=function(e){var t,n,i,r,a,o,l,d,s;return t=this,o=!1,$W("[data-role=win-notify]")[0]&&(o=!0),_closeNotify(),!o||e&&"off"!==e?("string"==typeof e&&(e={text:e}),e=e||{},l=e.text||"",s=e.title||"Aviso!",d=e.timeOut||"",n=e.closable||!0,i="body",e.id?r=e.id:(CONTWIDGET++,r="win-notify-"+CONTWIDGET),a={text:l,title:s,closable:n,timeOut:d},_openNotify(i,r,"alert",a),t.close=function(){return _closeNotify()},!0):!1},_closeNotify=function(){var e;return $W("[data-role=win-notify]")[0]?(e=$W("[data-role=win-notify]")[0],e.parentNode.removeChild(e)):void 0},_openNotify=function(e,t,n,i){var r;return r="","loader"===n?r='<div class="win-loader" id="win-loader-'+t+'" data-loader="'+i.icon+'" style="'+i.iconSize+'"></div> <div class="win-modal-label" id="label-load-'+t+'">'+i.text+"</div>":"alert"===n&&(i.closable&&(r+='<div class="win-notify-close" style="position: absolute; right:0; width:50px;">Close X</div>'),r+='<div class="win-modal-label" id="label-load-'+t+'">'+i.title+"<br><br>"+i.text+"</div>"),$W(e).append('<div class="win-modal" id="'+t+'" data-role="win-notify"> <div class="win-modal-parent" id="win-modal-parent-'+t+'"> <div class="win-modal-content"> <div class="win-modal-ribete" id="win-ribete-'+t+'">'+r+"<div> </div> </div> </div>"),i.closable&&document.getElementById("win-ribete-"+t).addEventListener("click",function(){return _closeNotify()}),i.timeOut>=0&&""!==i.timeOut?setTimeout(function(){return _closeNotify()},i.timeOut):void 0},$W.Confirm=function(e){var t,n,i,r;return r=250,t=120,i=e.title||"Confirm",n=e.text||"",n+='<div class="content-btn"> <input type="button" value="Aceptar" onclick="$W(\'#Win_ventana_confirm\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_confirm\')[0].parentNode); '+e.functionOK+';"> <input type="button" value="Cancelar" onclick="$W(\'#Win_ventana_confirm\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_confirm\')[0].parentNode); return false;"> </div>',new $W.Window({width:r,height:t,title:i,html:n,type:"alert",modal:!0,autoScroll:!0,closable:!1,autoDestroy:!0,drag:!1,resize:!1})},$W.CtxMenu=function(e){return document.getElementById(e.idApply).oncontextmenu=function(t){return $W.CtxMenuDom(e,t),!1}},$W.CtxMenuDom=function(e,t){var n,i,r,a;if(t.preventDefault,t.stopPropagation(),$W("[data-role=win-ctxmenu]")[0])return _deleteCtxMenu(),!1;if(window.addEventListener("contextmenu",function(e){return $W("[data-role=win-ctxmenu]")[0]?(_deleteCtxMenu(),e.preventDefault,e.stopPropagation(),!1):void 0}),window.addEventListener("click",function(e){return $W("[data-role=win-ctxmenu]")[0]?(_deleteCtxMenu(),e.preventDefault,e.stopPropagation(),!1):void 0}),i="",e.items){a=e.items;for(r in a)hasProp.call(a,r)&&(n=a[r],i+='<div data-option="top-'+r+'"> <div>'+n.text+"</div> </div>")}return t.target.innerHTML+='<div class="win-ctxmenu" data-role="win-ctxmenu" style="top:'+t.clientY+"px; left:"+t.clientX+'px;">'+i+"</div>",e.items?setTimeout(function(){var i,a;i=e.items,a=[];for(r in i)hasProp.call(i,r)&&(n=i[r],a.push(_menuOption(t.target,r,n.handler)));return a}):void 0},_menuOption=function(element,key,handler){return element.querySelector("[data-option=top-"+key+"]")&&handler?element.querySelector("[data-option=top-"+key+"]").onclick=function(){return"string"==typeof handler?eval(handler):handler(this)}:void 0},_deleteCtxMenu=function(){var e;return e=document.querySelectorAll("[data-role=win-ctxmenu]"),[].forEach.call(e,function(e){return e.parentNode.removeChild(e)})},_router=function(e,t){var n,i;return"object"==typeof e&&(i="left",n=0,e.forEach(function(e,r,a){switch(e.xtype){case"button":_button(e,t);break;case"buttongroup":_buttonGroup(e,t);break;case"tbar":_tbar(e,t);break;case"panel":_panel(e,t);break;case"tabpanel":_tabPanel(e,t);break;case"tab":_tab(e,t,n);break;case"tbtext":_tbText(e,t);break;case"body":_body(e,t,"router");break;default:"-"===e?_separator(t):"--"===e?_separatorHeight(t):"->"===e&&(i="right",document.getElementById(t).innerHTML+='<div data-role="div-empty"></div>')}return n++}),"left"===i)?document.getElementById(t).innerHTML+='<div data-role="div-empty"></div>':void 0},_tabPanel=function(e,t){var n,i,r,a,o,l,d,s;return d=e.style||"",r=e.height||35,i=e.bodyStyle||"",n=e.bodyHeight||"calc(100% - "+r+")",isNaN(s)||(s+="px"),isNaN(r)||(r+="px"),e.id?l=e.id:(CONTWIDGET++,l="win-tabpanel-"+CONTWIDGET),o='<div id="'+l+'" class="win-tabpanel" style="height:'+r+"; "+d+'" data-role="win-tabpanel"></div> <div id="win-tabpanel-body-'+l+'" class="win-tabpanel-body" style="height:'+n+"; "+i+'"></div>',document.getElementById(t).innerHTML+=o,ELEMENTS[l]={idParent:t,items:e.items,disable:!1,type:"tabpanel"},e.items&&_router(e.items,l),a=document.getElementById(l).offsetHeight,document.getElementById("win-tabpanel-body-"+l).style.height="calc(100% - "+a+"px)",setTimeout(function(){return void 0===$W.Element(l).selected()?$W.Element(l).selected(0):void 0})},_tab=function(e,t,n){var i,r,a,o,l,d,s,u,c,f,p,v;return v=e.title||"",d=e.iconCls||"",u=e.scrollX||!1,c=e.scrollY||!1,p=e.style||"",i=e.bodyStyle||"",l=e.hidden||!1,o=e.disable||!1,f=e.selected||!1,a=o?"disable":"enable",r=f?"true":"false",e.id?s=e.id:(CONTWIDGET++,s="win-tab-"+CONTWIDGET),document.getElementById(t).innerHTML+='<div id="'+s+'"class="win-tab" data-selected="'+r+'" data-state="'+a+'" data-index="index-'+n+'" data-load="false" style="'+p+'"> <span class="icon-tab form"></span> <span>'+v+"</span> </div>",document.getElementById("win-tabpanel-body-"+t).innerHTML+='<div id="win-tab-body-'+s+'" class="win-tab-body" style="height:100%; overflow:auto; '+i+'" data-selected="false" data-index="index-'+n+'"></div>',setTimeout(function(){var n;return n=[],e.items&&(n=e.items),e.autoLoad&&n.push({xtype:"body",scrollY:c,scrollX:u,autoLoad:e.autoLoad}),e.tbar&&n.unshift({xtype:"tbar",items:e.tbar}),ELEMENTS[s]={idParent:t,items:n,disable:o,type:"tab"},document.getElementById(s).onclick=function(){return _selectedTab(s)},f===!0?_selectedTab(s):void 0})},_selectedTab=function(e){var t,n,i,r;if(!ELEMENTS[e].disable)return r=document.getElementById(e),n=ELEMENTS[e].items,t=ELEMENTS[e].idParent,$W("#"+t+" > [data-selected=true]").attr("data-selected","false"),r.setAttribute("data-selected","true"),$W("#win-tabpanel-body-"+t+" > [data-selected=true]").attr("data-selected","false"),$W("#win-tab-body-"+e).attr("data-selected","true"),i=r.getAttribute("data-load"),"false"===i&&(r.setAttribute("data-load","true"),n)?_router(n,"win-tab-body-"+e):void 0},_panel=function(e,t){var n,i,r,a,o,l;return l=e.width||"160",n=e.height||"60",i=e.html||"",a=e.style||"",o=e.title||"",e.id?r=e.id:(CONTWIDGET++,r=CONTWIDGET),""!==o&&(n-=20,o='<div id="win-panel-title-'+r+'" style="width:'+l+"; height:20px; "+a+'" class="win-panel-title">'+o+"</div>"),isNaN(l)||(l+="px"),isNaN(n)||(n+="px"),i='<div id="win-panel-'+r+'" class="win-panel" style="width:'+l+"; height:"+n+"; "+a+'" data-role="win-panel"> '+o+' <div id="win-panel-load-'+r+'" class="win-panel-load" style="width:'+l+"; height:"+n+"; "+a+'"> '+i+" </div> </div>",document.getElementById(t).innerHTML+=i,e.autoLoad?setTimeout(function(){return e.autoLoad.idApply="win-panel-load-"+r,$W.Load(e.autoLoad)}):e.items?_router(e.items,"win-panel-load-"+r):void 0},_tbar=function(e,t){var n;return e.id?n=e.id:(CONTWIDGET++,n="win-tbar-"+CONTWIDGET),document.getElementById(t).innerHTML+='<div id="'+n+'" class="win-tbar" data-role="win-tbar"></div>',e.items&&_router(e.items,""+n),setTimeout(function(){return _resizeBody(document.getElementById(n).parentNode.id)})},_buttonGroup=function(e,t){var n,i,r,a,o,l,d,s,u;if(n=e.hidden||"",u=e.width||0,d=e.style||"",s=e.title||"",0===u&&e.items)for(l=e.items,a=0,o=l.length;o>a;a++)r=l[a],r.hidden||(u+=r.width>0?r.width||60:void 0);return isNaN(u)||(u+="px"),n===!0&&(n="display:none;"),e.id?i=e.id:(CONTWIDGET++,i=CONTWIDGET),ELEMENTS[i]={disable:!1,hidden:n,type:"buttonGroup"},""!==s&&(s='<div id="win-buttongroup-title-'+i+'" style="height:20px;" class="win-buttongroup-title">'+s+"</div>"),document.getElementById(t).innerHTML+='<div id="'+i+'" class="win-buttongroup" style="width:'+u+"; "+n+" "+d+'" data-role="win-buttongroup"> '+s+' <div id="win-buttongroup-body-'+i+'" class="win-buttongroup-body" style="'+d+'"></div> </div>',e.items?_router(e.items,"win-buttongroup-body-"+i):void 0},_button=function(e,t){var n,i,r,a,o,l,d,s,u;return s=e.text||"",i=e.cls||"save",n=e.align||"top",u=e.width||50,a=e.disable||!1,o=e.hidden||!1,r=a?"disable":"enable",d=o?"display:none;":"",e.id?l=e.id:(CONTWIDGET++,l="win-btn-"+CONTWIDGET),ELEMENTS[l]={disable:a,hidden:o,type:"button"},isNaN(u)||(u+="px"),document.getElementById(t).innerHTML+='<div id="'+l+'" class="win-btn" style="width:'+u+';" data-role="win-btn" data-state="'+r+'" style="'+d+'"> <button class="'+i+'">'+s+"</button> </div>",_findResizeBody(l),e.handler?setTimeout(function(){return document.querySelector("#"+t+" > #"+l).onclick=function(){return ELEMENTS[l].disable||ELEMENTS[l].hidden?void 0:($W.BlockBtn(l),e.handler(this))}}):void 0},_tbText=function(e,t){var n,i,r,a;return r=e.text||"",a=e.width||120,i=e.style||"left",a>0&&(a+="px"),e.id?n=e.id:(CONTWIDGET++,n="win-tbtext-"+CONTWIDGET),document.getElementById(t).innerHTML+='<div id="'+n+'" class="win-tbtext" style="width:'+a+"; "+i+'" data-role="win-tbtext">'+r+"</div>"},_separator=function(e){return document.getElementById(e).innerHTML+='<div class="win-separator" data-role="win-separator">|</div>'},_separatorHeight=function(e){return document.getElementById(e).innerHTML+='<div class="win-separatorHeight" data-role="win-separatorHeight"></div>'},_body=function(e,t,n){var i,r,a,o,l,d,s,u,c,f;return l=e.items||"",a=e.html||"",f="overflow:auto;",n=n||"json",r=e.clsBody||"",i=e.bodyStyle||"",s=void 0===e.scroll?!0:e.scroll,u=void 0===e.scrollX?!0:e.scrollX,c=void 0===e.scrollY?!0:e.scrollY,c?u||(f+="overflow-x:hidden;"):f+="overflow-y:hidden;",s||(f="overflow:hidden;"),e.idApply?o=e.idApply:e.id&&"router"===n?o=e.id:(CONTWIDGET++,o="win-body-"+CONTWIDGET),d=document.getElementById(t),d.innerHTML+='<div id="'+o+'" class="win-body '+r+'" style="'+f+" "+i+'" data-role="win-body">'+a+"</div>",setTimeout(function(){return _resizeBody(t),e.autoLoad?(e.autoLoad.idApply=o,$W.Load(e.autoLoad)):void 0})},_findResizeBody=function(e){var t,n,i,r,a,o,l,d;if(document.getElementById(e))return a=document.getElementById(e).getAttribute("data-role"),(a="win-btn")&&(n=document.getElementById(e).parentNode,i=document.getElementById(e).parentNode.parentNode,r=document.getElementById(e).parentNode.parentNode.parentNode,t="",o=n.getAttribute("data-role"),l=i.getAttribute("data-role"),d=r.getAttribute("data-role"),"win-body"===o||"win-section"===o?t=n:"win-body"===l||"win-section"===l?t=i:("win-body"===d||"win-section"===d)&&(t=r),""!==t)?setTimeout(function(){return _resizeBody(t.id)}):void 0},_resizeBody=function(e){var t,n,i,r;if(document.getElementById(e))return t=0,i="",n=document.querySelectorAll("#"+e+" > [data-role]"),[].forEach.call(n,function(e){var n;return n=e.getAttribute("data-role"),""===i?"win-body"===n?void(i=e):t+=e.offsetHeight:void 0}),r=0===t?"100%":"calc(100% - "+(t+1)+"px)",""!==i?setTimeout(function(){return i.style.height=r}):void 0},_draggStart=function(e,t,n){var i,r,a,o,l,d,s,u,c,f,p;return s=document.getElementById(e),n=n||window.event,f=n.clientX,p=n.clientY,d=s.style.top.replace("px",""),l=s.style.left.replace("px",""),c=parseInt(s.offsetWidth),u=parseInt(s.offsetHeight),r=parseInt(t.offsetWidth),i=parseInt(t.offsetHeight),t.style.cursor="move",a=f-l,o=p-d,document.onmousemove=function(e){var t,n;return e=e||window.event,f=e.clientX,p=e.clientY,t=f-a,n=p-o,0>t&&(t=0),0>n&&(n=0),t+c>r&&(t=r-c),n+u>i&&(n=i-u),_draggMove(s,t,n)}},_draggMove=function(e,t,n){return e.style.left=t+"px",e.style.top=n+"px"},_draggStop=function(e){return e.style.cursor="default",document.onmousemove=function(e){return e.preventDefault}},_resize=function(e){var t,n,i,r,a,o,l,d,s,u,c,f,p,v,h;return v=0,h=0,p=0,f=0,c=1*e.parentNode.style.top.replace("px",""),u=1*e.parentNode.style.left.replace("px",""),s=e.parentNode,d=e.getAttribute("data-resize"),e.onmousedown=function(e){return n(e)},n=function(e){return v=e.clientX,h=e.clientY,p=parseInt(document.defaultView.getComputedStyle(s).width,10),f=parseInt(document.defaultView.getComputedStyle(s).height,10),document.documentElement.addEventListener("mousemove",t,!1),document.documentElement.addEventListener("mouseup",l,!1)},t=function(e){return"left"===d?i(e):"right"===d?r(e):"top"===d?o(e):"bottom"===d?a(e):void 0},l=function(e){return document.documentElement.removeEventListener("mousemove",t,!1),document.documentElement.removeEventListener("mouseup",l,!1)},i=function(e){return s.style.left=u+e.clientX-v+"px",s.style.width=p-e.clientX+v+"px"},o=function(e){return s.style.top=c+e.clientY-h+"px",s.style.height=f-e.clientY+h+"px"},r=function(e){return e.clientX>=500?s.style.width=p+e.clientX-v+"px":void 0},a=function(e){return e.clientY>=340?s.style.height=f+e.clientY-h+"px":void 0}}}(Win),function(e){var t;return e.Ajax=function(e){var t,n,i,r,a;if(i="","undefined"!=typeof e.params)for(r in e.params)i+=""===i?r+"="+e.params[r]:"&"+r+"="+e.params[r];return a=new XMLHttpRequest,t=e.url,n=e.method||"POST",a.open(n,t,!0),"POST"===n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded",!0),a.onreadystatechange=function(){var t;return 4===a.readyState?(t=a,e.success(t,a)):e.failure?e.failure(a):void 0},a.send(i)},e.Load=function(e){var n,i,r,a,o,l;if(!e.idApply)return void alert("idApply Obligatorio");if("null"==typeof document.getElementById(e.idApply))return void alert("No se encontro elemento en el arbol Dom");if(r="","undefined"!=typeof e.params)for(o in e.params)r+=""===r?o+"="+e.params[o]:"&"+o+"="+e.params[o];return a=e.text||"cargando...",document.getElementById(e.idApply).innerHTML='<div class="win-content-min-load" > <div class="win-content-min-load-img"> <div class="win-min-load-ajax"></div> </div> <div class="win-content-min-load-label">'+a+"</div> </div>",l=new XMLHttpRequest,n=e.url+"?",i=e.method||"POST",l.open(i,n,!0),"POST"===i&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded",!0),l.onreadystatechange=function(){var n;return 4===l.readyState?(n=document.getElementById(e.idApply),404===l.status?n.innerHTML="Not found":(n.innerHTML=l.responseText,
t(n))):void 0},l.send(r)},t=function(e){var t,n,i,r,a,o;for(o=e.getElementsByTagName("script"),r=[],n=0,i=o.length;i>n;n++)t=o[n],a=document.createElement("script"),a.innerHTML=t.innerHTML,r.push(t.parentNode.replaceChild(a,t));return r}}(Win),function(e){var t,n,i,r,a,o,l,d,s,u,c,f,p,v,h,m;return e.Form={},e.Form.ini=function(n,i){var r,a,o,l,s,u,c,f,p,v,h,m,y;if(null!==n&&(p=n.indexClass||"",v=n.name||"",y=n.url||"",m=n.size||{},u=n.field||{},h=n.opcionClass||"",f="parent_form_"+v,r=m.fBodyAncho||"",r>0?r+="px":("auto"===r||0===r)&&(r="auto"),isNaN(m.fDivAncho)||(m.fDivAncho=m.fDivAncho+"px"),isNaN(m.fDivAlto)||(m.fDivAlto=m.fDivAlto+"px"),isNaN(m.fLabelAncho)||(m.fLabelAncho=m.fLabelAncho+"px"),isNaN(m.fFieldAncho)||(m.fFieldAncho=m.fFieldAncho+"px"),s=n.fTbar||!1,o=n.fPermisoInsert||!1,l=n.fPermisoUpdate||!1,a=n.fPermisoDelete||!1,i=i||{},"vInsert"!==h||o===!0||"true"===o))return c=d(h,v,u,m),document.getElementById(f).innerHTML+='<div id="form_tbar_'+v+'"></div> <form name="form_'+v+'" id="form_'+v+'" onsubmit="return false;" data-role="win-body" style="float:left; width:100%; height:100%; overflow:auto;"> <div id="div_script_form_'+v+'" style="float:left; padding:10px; width:20px; height:20px; overflow:hidden; position:fixed;"></div> <div style="float:left; padding:10px 0; width:'+r+';">'+c+"</div> </form>",s===!0&&t(v,h,y,p,o,l,a,i),"vUpdate"===h&&l!==!0&&"true"!==l&&e("#form_"+v+" input, #form_"+v+" select, #form_"+v+" textarea").attr("disabled","true"),e.Form.validate(f)},t=function(t,n,i,r,a,o,l,d){var s;return s=[],"vInsert"===n&&a!==!1&&"false"!==a?s.push({xtype:"button",id:"fInsert_"+t,cls:"grilla_save",width:60,text:"Guardar",handler:function(){return e.Form.fSave(t,i,r,d)}}):"vUpdate"===n&&o!==!1&&"false"!==o&&s.push({xtype:"button",id:"fUpdate_"+t,cls:"grilla_save",width:60,text:"Actualizar",handler:function(){return e.Form.fSave(t,i,r,d)}}),"vUpdate"===n&&l!==!1&&"false"!==l&&s.push({xtype:"button",id:"fDelete_"+t,cls:"grilla_delete",width:60,text:"Eliminar",handler:function(){return e.Form.fDelete(t,i,r,d)}}),e.Tbar({idApply:"form_tbar_"+t,items:s})},d=function(e,t,i,l){var d,s,u;s="";for(d in i)if(hasProp.call(i,d))switch(u=i[d],u.type){case"TextField":s+=o(t,d,u,l);break;case"ComboBox":s+=n(t,d,u,l);break;case"TextArea":s+=a(t,d,u,l);break;case"Separador":s+=r(u)}return s},o=function(e,t,n,i){var r,a,o,l;return o="text",r="block",l=n.validate||"",""!==l&&(l='data-validate="'+l+'"'),(n.hidden===!0||"true"===n.hidden||"hidden"===n.hidden)&&(o="hidden",r="none"),a=n.required===!0&&""===n.value?"empy":"none",'<div id="form_content_field_'+e+"_"+t+'" class="form_content_field" style="width:'+i.fDivAncho+"; min-height:"+i.fDivAlto+"; display:"+r+'"> <div id="form_label_'+e+"_"+t+'" class="form_label" style="width:'+i.fLabelAncho+';">'+n.label+'</div> <div id="form_field_'+e+"_"+t+'" class="form_field" style="width:'+i.fFieldAncho+';"> <input type="'+o+'" id="form_'+e+"_"+t+'" value="'+n.value+'" style="width:'+n.width+'px;" data-value="'+n.value+'" data-required="'+n.required+'" data-style="'+a+'" data-label="'+n.label+'" '+l+"/> </div> </div>"},n=function(e,t,n,r){var a,o,l;return l=n.required===!0&&""===n.value?"empy":"none",o=n.option||{},a=i(n.value,o),'<div id="form_content_field_'+e+"_"+t+'" class="form_content_field" style="width:'+r.fDivAncho+"; min-height:"+r.fDivAlto+';"> <div id="form_label_'+e+"_"+t+'" class="form_label" style="width:'+r.fLabelAncho+';">'+n.label+'</div> <div id="form_field_'+e+"_"+t+'" class="form_field" style="width:'+r.fFieldAncho+';"> <select id="form_'+e+"_"+t+'" style="width:'+n.width+'px;" data-value="'+n.value+'" data-textdb="'+n.textdb+'" data-required="'+n.required+'" data-style="'+l+'" data-label="'+n.label+'">'+a+"</select> </div> </div>"},i=function(e,t){var n,i,r,a;n='<option value="">Seleccione...</option>';for(i in t)hasProp.call(t,i)&&(r=t[i],a=r.index===e?"selected":"",n+='<option value="'+r.index+'" '+a+">"+r.value+"</option>");return n},a=function(e,t,n,i){var r,a;return r=n.required===!0&&""===n.value?"empy":"none",a=n.value.replace(/<br \/>/g,""),'<div id="form_content_field_'+e+"_"+t+'" class="form_content_field" style="width:'+i.fDivAncho+"; min-height:"+i.fDivAlto+';"> <div id="form_label_'+e+"_"+t+'" class="form_label" style="width:'+i.fLabelAncho+';">'+n.label+'</div> <div id="form_field_'+e+"_"+t+'" class="form_field" style="width:'+i.fFieldAncho+';"> <textarea id="form_'+e+"_"+t+'" style="width:'+n.width+"px; height:"+n.height+'px;" data-required="'+n.required+'" data-style="'+r+'" data-label="'+n.label+'">'+a+"</textarea> </div> </div>"},r=function(e){return'<div class="form_separador"> <div style="width:80%; float:left">'+e.text+"</div> </div>"},e.Form.field=function(t){switch(t.type){case"integer":return e("#"+t.idApply).addClass+=" win-input-number",e("#"+t.idApply)[0].onkeypress=function(e){return f({event:e,eventType:"keypress",input:this})},e("#"+t.idApply)[0].onchange=function(e){return f({event:e,eventType:"change",input:this})};case"double":return e("#"+t.idApply).addClass+=" win-input-number",e("#"+t.idApply)[0].onkeypress=function(e){return u({event:e,eventType:"keypress",input:this})},e("#"+t.idApply)[0].onchange=function(e){return u({event:e,eventType:"change",input:this})};case"text":return e("#"+t.idApply)[0].onkeyup=function(e){return h({event:e,eventType:"keyup",input:this,option:t.option})},e("#"+t.idApply)[0].onchange=function(e){return h({event:e,eventType:"change",input:this,option:t.option})};case"email":return e("#"+t.idApply)[0].onchange=function(e){return c({event:e,input:this})};case"date":return s(t);case"percent":return e("#"+t.idApply)[0].onkeydown=function(e){return 13===e.keyCode?v({event:e,eventType:"keypress",input:this}):void 0},e("#"+t.idApply)[0].onchange=function(e){return v({event:e,input:this})}}},e.Form.validate=function(e){var t;return t=document.getElementById(e).querySelectorAll("input, textarea, select"),[].forEach.call(t,function(e){var t;switch(t=e.getAttribute("data-validate")){case"integer":return e.className+=" win-input-number",e.onkeypress=function(e){return f({event:e,eventType:"keypress",input:this})},e.addEventListener("change",function(e){return f({event:e,eventType:"change",input:this})});case"double":return e.className+=" win-input-number",e.addEventListener("change",function(e){return u({event:e,eventType:"change",input:this})});case"uppercase":return e.className+=" win-input-uppercase",e.addEventListener("change",function(e){return m({event:e,eventType:"change",input:this})});case"lowercase":return e.className+=" win-input-lowercase",e.addEventListener("change",function(e){return p({event:e,eventType:"change",input:this})});case"email":return e.addEventListener("change",function(e){return c({event:e,input:this})});case"percent":return e.addEventListener("change",function(e){return v({event:e,input:this})});case"date":return s(e);default:return e.onkeyup=function(e){return h({event:e,eventType:"keyup",input:this})},e.onchange=function(e){return h({event:e,eventType:"change",input:this})}}})},f=function(e){var t;return t=document.all?e.event.keyCode:e.event.which,l(t)?!0:"keypress"===e.eventType?/\d/.test(String.fromCharCode(t)):"change"===e.eventType?e.input.value=e.input.value.replace(/[^\d.]/g,""):void 0},u=function(e){var t,n,i;return n=document.all?e.event.keyCode:e.event.which,l(n)?!0:"keypress"===e.eventType?/[\d.]/.test(String.fromCharCode(n)):"change"!==e.eventType||(e.input.value=e.input.value.replace(/[^\d.]/g,""),i=!!e.input.value.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/))?void 0:(t=e.input.value.split("."),e.input.value=t[0]+"."+t[1])},h=function(e){var t;return t=document.all?e.event.keyCode:e.event.which,l(t)?!0:"change"===e.eventType?e.input.value=e.input.value.replace(/[\#\-\"\']/g,""):void 0},m=function(e){var t;return t=document.all?e.event.keyCode:e.event.which,l(t)?!0:(e.input.value=e.input.value.replace(/[\#\-\"\']/g,"").toUpperCase(),!0)},p=function(e){var t;return t=document.all?e.event.keyCode:e.event.which,l(t)?!0:(e.input.value=e.input.value.replace(/[\#\-\"\']/g,"").toUpperCase(),!0)},c=function(e){var t;return t=!!e.input.value.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i),t?void 0:(e.input.value="",e.input.focus())},v=function(e){var t,n,i;return t=1*e.input.getAttribute("data-max"),n=1*e.input.getAttribute("data-min"),i=1*e.input.value,t>=i?i>=n?console.log("valor aceptado"):(alert("no se aceptan  menores a "+n),e.input.value="",e.input.focus()):(alert("no se aceptan muneros mayores a"+t),e.input.value="",e.input.focus()),!0},l=function(e){return 8===e||9===e||0===e||13===e||37===e||38===e||39===e||40===e?!0:!1},s=function(t){var n,i,r,a,o,l,d,s,u,c,f,p,v,h,m,y,g,b,_,w,E,T,x,A,N,L,W,I;return window.addEventListener("click",function(t){return e(".win-calendar-parent")[0]?(c(e("#date_"+_)[0]),t.preventDefault,t.stopPropagation()):void 0}),null!==t?(L="-",_=t.idApply||t.id,g=t.format||"y-m-d",T=t.selected||"",E=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],y=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],I=["D","L","M","M","J","V","S"],w=""!==_?document.getElementById(_)||t:void 0,w.dataset.icon="date","undefined"!=typeof t.value&&(w.value=t.value),m=[],L=g.replace(/[a-zA-Z\d\s]/g,"")[0],b=g.replace(/[^a-zA-Z\d\s]/g,""),W=w.value.split(/[^\d]/),""===w.value?(N=(new Date).getFullYear(),A=(new Date).getMonth(),x=(new Date).getDate()):(m[b[0]]=1*W[0],m[b[1]]=1*W[1],m[b[2]]=1*W[2],N=m.y,A=m.m-1,x=m.d),w.readOnly=!0,w.onclick=function(t){return e(".win-calendar-parent")[0]?void c(e("#date_"+_)[0]):(r(this),h(this),t.preventDefault,t.stopPropagation())},r=function(t){var n,a,o,l,c,p,v,m,y,g,b,E,T,x,L,W,C,M;for(p='<table id="win-calendar-year-'+_+'" cellpadding="0" cellspacing="0" class="win-calendar-year" style="display:table;"></table> <table id="win-calendar-'+_+'" cellpadding="0" cellspacing="0" class="win-calendar"> <tr class="calendar-controls"> <td id="prev-month-'+_+'" class="calendar-change previous">  </td> <td id="title-date-'+_+'" colspan="5" class="calendar-header">'+u(A)+" "+N+('</td> <td id="next-month-'+_+'" class="calendar-change next">  </td> </tr> <tr class="weekDaysTitleRow">'),v=0,y=I.length;y>v;v++)n=I[v],p+="<td>"+n+"</td>";for(a=d(N,A),L=s(N,A),E=0,T=1,7!==L?(E=Math.ceil((L+1+a)/7),b=L+1):b=0,M=(new Date).getDate(),W=(new Date).getMonth(),C=(new Date).getFullYear(),l=m=0,x=E;x>=0?x>m:m>x;l=x>=0?++m:--m){for(p+='<tr class="weekDaysRow">',c=g=0;7>g;c=++g)p+=T===M&&N===C&&A===W&&0===b?'<td id="today" class="weekDaysCell">':'<td class="weekDaysCell">',0===b&&(a>=T&&(p+="<a>"+T+"</a>"),T++),p+="</td>",b>0&&b--;p+="</tr>"}return p+="</table>",e("#date_"+_).length>0?e("#date_"+_).html(p):(o=document.createElement("div"),o.innerHTML=p,o.setAttribute("id","date_"+_),o.setAttribute("class","win-calendar-parent"),e("#"+_)[0].parentNode.insertBefore(o,e("#"+_)[0].nextSibling),f(w,o)),e("#title-date-"+_)[0].onclick=function(e){var n;return n=1*this.innerHTML.split(" ")[1],i(n-5,t),e.preventDefault,e.stopPropagation()},e("#prev-month-"+_)[0].onclick=function(e){return A--,0>A&&(A=11,N--),r(t),h(t),e.preventDefault,e.stopPropagation()},e("#next-month-"+_)[0].onclick=function(e){return A++,A>11&&(A=0,N++),r(t),h(t),e.preventDefault,e.stopPropagation()}},i=function(t,a){var o,l,d,s,u,c,f,m;for(f=t,m=t+6,c="",l=s=0;6>s;l=++s)d=l+6,c+='<div> <div class="date-change-month" data-value="'+l+'">'+E[l].substr(0,3)+'</div> <div class="date-change-month" data-value="'+d+'">'+E[d].substr(0,3)+"</div> </div>";for(o='<tr> <td colspan="2" rowspan="7" class="content-month">'+c+'</td> <td colspan="2" class="content-year"> <div id="change-year-down-'+_+'" class="calendar-change" style="float:left;"> < </div> <div id="change-year-top-'+_+'" class="calendar-change" style="float:right;"> > </div> </td> </tr>',l=u=0;6>u;l=++u)o+='<tr> <td data-year="false">'+f++ +'</td> <td data-year="false">'+m++ +"</td> </tr>";return o+='<tr style="border-top:1px solid #fff;"> <td colspan=2 style="padding:0px; border-right:1px solid #fff;"> <input type="button" style="width:100%; padding:3px;" id="boton-done-calendar-'+_+'" value="Aceptar"> </td> <td colspan=2 style="padding:0px;"> <input type="button" style="width:100%; padding:3px;" value="Volver" id="boton-back-calendar-'+_+'"> </td> </tr>',e("#win-calendar-year-"+_).style("display","table"),e("#win-calendar-"+_).style("display","none"),e("#win-calendar-year-"+_).html(o),e("#win-calendar-year-"+_+" td").onclick=function(e){return console.log(this)},e("#change-year-top-"+_)[0].onclick=function(e){return i(m,a),e.preventDefault,e.stopPropagation()},e("#change-year-down-"+_)[0].onclick=function(e){return i(t-12,a),e.preventDefault,e.stopPropagation()},e("#boton-back-calendar-"+_)[0].onclick=function(e){return n(),e.preventDefault,e.stopPropagation()},e(".date-change-month").on("click",function(e){return p(e,_),e.preventDefault,e.stopPropagation()}),e("#win-calendar-year-"+_+" [data-year] ").on("click",function(e){return v(e,_),e.preventDefault,e.stopPropagation()}),e("#boton-done-calendar-"+_)[0].onclick=function(e){var t,n;return t=document.getElementById(_).getAttribute("data-month"),n=N-document.getElementById(_).getAttribute("data-year"),A=t,N=0>n?N+Math.abs(n):N-n,null!==A&&0!==N&&(r(a),h(a)),e.preventDefault,e.stopPropagation()}},n=function(){return e("#win-calendar-year-"+_).style("display","none"),e("#win-calendar-"+_).style("display","table")},c=function(e){return e.parentNode.removeChild(e)},h=function(t){var n,i,r,a,l,d;for(d=e("#win-calendar-"+_)[0],l=d.getElementsByTagName("a"),a=[],i=0,r=l.length;r>i;i++)n=l[i],a.push(n.onclick=function(){return x=this.innerHTML,t.value=o(x,A,N),c(e("#date_"+_)[0])});return a},o=function(e,t,n){var i,r;return t++,10>t&&(t="0"+t),10>e&&(e="0"+e),i=[],i.y=n,i.m=t,i.d=e,r=i[b[0]]+L+i[b[1]]+L+i[b[2]]},u=function(e){return E[e]},l=function(e){return y[e]},d=function(e,t){return 32-new Date(e,t,32).getDate()},s=function(e,t){var n;return n=new Date(e,t,0).getDay()},f=function(e,t){var n;return n=a(e),t.style.top=n.top+23+"px",t.style.left=n.left+"px"},a=function(e){var t,n,i;if("string"==typeof e)e=document.getElementById(e);else if(!e)return{top:0,left:0};if(i=0,n=0,e.getBoundingClientRect())return t=e.getBoundingClientRect(),{top:t.top,left:t.left};for(;e.offsetParent;)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{top:i,left:n}},v=function(t,n){return e("#win-calendar-year-"+n+" [data-year] ").style("background-color",""),e("#win-calendar-year-"+n+" [data-year] ").style("color",""),t.toElement.setAttribute("style","background-color:#ADADAD;color:#000;"),document.getElementById(n).dataset.year=t.toElement.innerHTML},p=function(t,n){return e(".date-change-month").style("background-color",""),e(".date-change-month").style("color",""),t.toElement.setAttribute("style","background-color:#ADADAD;color:#000;"),document.getElementById(n).dataset.month=t.toElement.getAttribute("data-value")}):void 0}}(Win),function($W){var GRILLA,_createAside,_createCol,_createContent,_createPagination,_createRows,_createTbar,_createTitle,_createToolbar,_execScript,_insertUpdateRow,_jsonParams;return $W.Grilla={},GRILLA={},$W.Grilla.ini=function(e,t){var n,i,r,a,o,l,d,s,u,c,f,p,v,h,m,y,g,b,_,w,E,T,x,A,N,L,W,I,C,M,S;if(null!==e)return b=e.name||"",x="",C=e.url||"",y=e.idApply||"",_=e.opcionClass||"",T=e.rows||{},W=e.titleItems||{},S="100%",E=y,A=e.tbar||"",N=e.tbarHeight||"",I=e.toolbar||!1,M=e.valueToolbar||"",n=e.advancedToolbar||"disable",i=e.ctxMenu||[],c=e.filterAside||"",w=e.pagina||"",g=e.maxPage||"",t=t||{},L=e.textBtnNuevo||"Nuevo",s=e.fPermisoInsert||!1,u=e.fTitle||"",l=e.fAncho||"auto",o=e.fAlto||"auto",d=e.fNameWindow||"",r=e.eventInsert||"",a=e.eventUpdate||"",f="",GRILLA[b]={url:C,varPost:t},A===!0&&""===_?(_createTbar(b,y,d,l,o,u,L,s,r),N=document.getElementById("grilla_tbar_"+b).offsetHeight,f="height:calc(100% - "+N+"px)"):f="height:100%",I!==!1&&(x='style="height:calc(100% - 28px);"',m=_createToolbar(b,n)),p=_createAside(b,c),v=_createContent(b,_,w,g,x,W,T,a,d,l,o,u),""!==p&&(S="calc(100% - 205px)"),""===_?h='<div id="grilla_ventana_'+b+'" class="grilla_ventana" style="'+f+';" data-role="win-body"> <div id="grilla_'+b+'" class="grilla_load" style="width:'+S+';"> '+m+" "+v+" </div> </div>":(E="grilla_"+b,h=""+m+v),document.getElementById(E).innerHTML+=h,$W("#grilla_toolbar_reload_"+b).on("click",function(){return $W.Grilla.buscar(b)}),$W("#grilla_content_page_"+b+" .grilla_page").on("click",function(){return $W.Grilla.pagination(this,b,M,w,g)}),"filterField"===_?(document.getElementById("field_buscar_"+b).value=M,document.getElementById("field_buscar_"+b).focus()):void 0},$W.Grilla.fOpen=function(name,id,fNameWindow,width,height,title,autoScroll){var opcionClass,params,state,url;return url=GRILLA[name].url,id>0&&(state=document.getElementById("grilla_fila_"+name+"_"+id).getAttribute("data-state"),"fDelete"===state)?void 0:(opcionClass=id>0?"vUpdate":"vInsert",params=GRILLA[name].varPost,params.indexClass=id,params.opcionClass=opcionClass,eval("window."+fNameWindow+' = $W.Window({ id       : "'+fNameWindow+'", width    : width, height   : height, title    : title, modal    : true, closable : true, drag     : true, resize   : true, scroll   : false, autoLoad : { url    : url, params : params } })'))},$W.Grilla.inputBuscar=function(e,t){var n;return n=document.all?e.keyCode:e.which,13===n&&$W.Grilla.buscar(t),!0},_jsonParams=function(e){var t,n,i,r,a;return r=GRILLA[e].varPost,r.activeOrder="",r.valueToolbar="",r.advancedToolbar="disable",document.getElementById("field_buscar_"+e)&&(r.valueToolbar=document.getElementById("field_buscar_"+e).value,r.advancedToolbar=document.getElementById("grilla_type_search_"+e).getAttribute("data-search")),t=document.querySelectorAll("#grilla_title_"+e+" [data-order=upOn], #grilla_title_"+e+" [data-order=downOn]"),t[0]&&(n=t[0],i=n.getAttribute("data-field"),a=n.getAttribute("data-order"),r.activeOrder=JSON.stringify({field:i,state:a})),r},$W.Grilla.eventAside=function(e,t){var n,i,r;return r=e.getAttribute("data-state"),i=document.getElementById("grilla_"+t),n=document.getElementById("grilla_aside_"+t),"open"===r?(n.style.width="16px",i.style.width="calc(100% - 21px)",e.setAttribute("data-state","close")):(n.style.width="200px",i.style.width="calc(100% - 205px)",e.setAttribute("data-state","open"))},$W.Grilla.buscar=function(e){var t,n;return n=GRILLA[e].url,t=_jsonParams(e),t.opcionClass="filterField",$W.Load({idApply:"grilla_"+e,url:n,params:t})},$W.Grilla.pagination=function(e,t,n,i,r){var a,o,l,d,s;return s=GRILLA[t].url,o=0,r=1*r,i=1*i,a=e.getAttribute("data-type"),d=document.getElementById("grilla_content_"+t).parentNode,"next"===a&&i===r||"prev"===a&&1===i||"last"===a&&i===r||"first"===a&&1===i?void 0:("next"===a?o=i+1:"prev"===a?o=i-1:"last"===a?o=r:"first"===a&&(o=1),l=GRILLA[t].varPost,l.pagina=o,l.opcionClass="paginacion",l.valueToolbar=n,$W.Load({idApply:d.id,url:s,params:l}))},$W.Grilla.updateRow=function(e,t){var n,i,r,a;return a=GRILLA[e].url,i="updateRow",r=GRILLA[e].varPost,r.indexClass=t,r.opcionClass=i,document.getElementById("grilla_fila_cont_"+e+"_"+t)?(n=document.getElementById("grilla_fila_cont_"+e+"_"+t).innerHTML,$W.Ajax({url:a,params:r,success:function(r,a){var o;return $W.Script.isJSON(r.responseText)?(o=JSON.parse(r.responseText),document.getElementById("grilla_content_fila_"+e+"_"+t).innerHTML=_createRows(e,i,o.rows,o.eventUpdate,o.fNameWindow,o.fAncho,o.fAlto,o.fTitle),document.getElementById("grilla_fila_cont_"+e+"_"+t).innerHTML=n,document.getElementById("grilla_fila_image_"+e+"_"+t).setAttribute("data-icon","fUpdate")):void console.log(r.responseText)},failure:function(e){return console.log("fail")}})):void 0},_execScript=function(e,t){var n,i,r,a,o,l,d,s,u;if(n=t.split("<script>"),u=n[0],n.length>1)for(n[0]="",l=n.join("<script>"),i=document.getElementById("div_script_form_"+e),i.innerHTML=l,s=i.getElementsByTagName("script"),a=0,o=s.length;o>a;a++)r=s[a],d=document.createElement("script"),d.innerHTML=r.innerHTML,r.parentNode.replaceChild(d,r);return $W.Script.isJSON(u)?u:(console.log(u),!1)},_insertUpdateRow=function(name,url,xhrResponse,opcionClass){var body,contDiv,eventUpdate,fAlto,fAncho,fNameWindow,fTitle,json,rows,txtJson,type;return(txtJson=_execScript(name,xhrResponse.responseText))?(json=JSON.parse(txtJson),"true"!==json.estado?"false"===json.estado&&json.msj?alert(json.msj):console.log(json.msj):(type=json.type||"","form"===type?void eval(json.name+".close();"):(rows=json.rows||{},fTitle=json.fTitle||"",fAncho=json.fAncho||"",fAlto=json.fAlto||"",fNameWindow=json.fNameWindow||"",eventUpdate=json.eventUpdate||"","fInsert"===opcionClass||"insertRow"===opcionClass?(body=document.getElementById("grilla_body_"+name),body.lastChild&&(contDiv=body.lastChild.getAttribute("data-cont"),contDiv++),body.innerHTML+=_createRows(name,opcionClass,rows,eventUpdate,fNameWindow,fAncho,fAlto,fTitle),contDiv>0&&(document.getElementById("grilla_fila_cont_"+name+"_"+json.idRow).innerHTML=contDiv,document.getElementById("grilla_content_fila_"+name+"_"+json.idRow).setAttribute("data-cont",contDiv))):"fUpdate"===opcionClass&&(contDiv=document.getElementById("grilla_fila_cont_"+name+"_"+json.idRow).innerHTML,document.getElementById("grilla_content_fila_"+name+"_"+json.idRow).innerHTML=_createRows(name,opcionClass,rows,eventUpdate,fNameWindow,fAncho,fAlto,fTitle),document.getElementById("grilla_fila_cont_"+name+"_"+json.idRow).innerHTML=contDiv),"fInsert"===opcionClass||"fUpdate"===opcionClass?eval(fNameWindow+".close();"):void 0))):void 0},$W.Grilla.insertRow=function(e,t){var n,i,r;return r=GRILLA[e].url,n="insertRow",i=GRILLA[e].varPost,i.indexClass=t,i.opcionClass=n,$W.Ajax({url:r,params:i,success:function(t,i){return _insertUpdateRow(e,r,t,n)},failure:function(e){return console.log("fail")}})},$W.Form.fSave=function(e,t,n,i){var r,a,o,l,d,s,u,c,f,p;for(c={},r=[],u="",a=0,f=n>0?"fUpdate":"fInsert",r[0]=document.querySelectorAll("#form_"+e+" input"),r[1]=document.querySelectorAll("#form_"+e+" select"),r[2]=document.querySelectorAll("#form_"+e+" textarea"),d=0,s=r.length;s>d;d++)o=r[d],[].forEach.call(o,function(t){var n,i,r,o,l,d;return r=t.id,d=t.value,o=t.getAttribute("data-label"),l=t.getAttribute("data-required"),""===d&&"true"===l&&(a++,u+="\n* "+o),i=r.replace("form_"+e+"_",""),c[i]=d,"select"!==t.tagName&&"SELECT"!==t.tagName||(n=t.getAttribute("data-textdb"),""===n)?void 0:c[n]=t.options[t.selectedIndex].text});return l=JSON.stringify(c),1===a?void alert("El siguiente campo es obligatorio"+u):a>1?void alert("Los siguientes campos son obligatorios"+u):(p=i,p.indexClass=n,p.opcionClass=f,p.jsonFormValue=l,$W.Ajax({url:t,params:p,success:function(n,i){return _insertUpdateRow(e,t,n,f)},failure:function(e){return console.log("fail")}}))},$W.Form.fDelete=function(name,url,indexClass,varPost){var params;return params=varPost,params.indexClass=indexClass,params.opcionClass="fDelete",$W.Ajax({url:url,params:params,success:function(xhrResponse,xhr){var arrayDivHtml,json,txtJson;return(txtJson=_execScript(name,xhrResponse.responseText))?(json=JSON.parse(txtJson),"true"===json.estado?("grilla"===json.type&&(document.getElementById("grilla_fila_"+name+"_"+indexClass).setAttribute("data-state","fDelete"),document.getElementById("grilla_fila_image_"+name+"_"+indexClass).setAttribute("data-icon","fDelete"),arrayDivHtml=document.querySelectorAll("#grilla_fila_"+name+"_"+indexClass+" [data-type=html]"),[].forEach.call(arrayDivHtml,function(e){return e.innerHTML=""})),eval(json.fNameWindow+".close();")):console.log("false")):void 0},failure:function(e){return console.log("fail")}})},$W.Grilla.typeSearch=function(e){var t;if(t=e.getAttribute("data-search"),"disable"===t){if(!confirm("Desea habilitar la busqueda avanzada?"))return;return e.setAttribute("data-search","enable")}return e.setAttribute("data-search","disable")},_createAside=function(e,t){var n,i,r;n="";for(i in t)hasProp.call(t,i)&&(r=t[i],n+='<div class="grilla-aside-title">'+r.title+"</div>");return""!==n&&(n='<aside id="grilla_aside_'+e+'" style="width:200px;"> <div class="grilla-aside-head" data-state="open" onclick="$W.Grilla.eventAside(this, \''+e+"')\">TITLE OR ICON</div> "+n+" </aside>"),n},_createToolbar=function(e,t){return'<div id="grilla_toolbar_'+e+'" class="grilla_toolbar"> <div> <div class="grilla_toolbar_input"> <input type="text" id="field_buscar_'+e+'" onKeyUp="$W.Grilla.inputBuscar(event,\''+e+'\')" placeholder="Buscar..."/> </div> <div data-search="'+t+'" title="Busquedas avanzada" id="grilla_type_search_'+e+'" class="grilla_type_search" onclick="$W.Grilla.typeSearch(this)"></div> <div id="grilla_toolbar_reload_'+e+'" class="grilla_toolbar_reload"></div> </div> </div>'},_createContent=function(e,t,n,i,r,a,o,l,d,s,u,c){var f,p,v;return f=_createRows(e,t,o,l,d,s,u,c),p=_createPagination(e,n,i),v=_createTitle(e,a),'<div id="grilla_content_'+e+'" class="grilla_content" '+r+'> <div id="grilla_title_'+e+'" class="grilla_title" style="min-width:'+v.width+'px;">'+v.html+'</div> <div id="grilla_body_'+e+'" class="grilla_body" style="min-width:'+v.width+'px;">'+f+'</div> <div class="grilla_footer" style="min-width:'+v.width+'px;">'+p+"</div> </div>"},_createTitle=function(e,t){var n,i,r,a,o,l,d;d=75,r='<div class="grilla_title_label">No.</div>';for(l in t)hasProp.call(t,l)&&(o=t[l],a="","true"===o.order&&(i="upOff",n="downOff","upOn"===o.state?i="upOn":"downOn"===o.state&&(n="downOn"),a='<div class="grilla_title_order"> <div data-order="'+i+'" data-field="'+o.field+'" onclick="$W.Grilla.orderUser(\''+e+'\',this)"></div> <div data-order="'+n+'" data-field="'+o.field+'" onclick="$W.Grilla.orderUser(\''+e+"',this)\"></div> </div>"),d+=o.width,r+='<div class="grilla_title_label" style="width:'+o.width+'px;"> <div style="float:left; width:100%; height:100%;">'+o.title+"</div> "+a+" </div>");return{html:r,width:d}},$W.Grilla.orderUser=function(e,t){var n;switch(n=t.getAttribute("data-order"),$W(".grilla_title_order [data-order=upOn]").attr("data-order","upOff"),$W(".grilla_title_order [data-order=downOn]").attr("data-order","downOff"),n){case"upOff":t.setAttribute("data-order","upOn");break;case"downOff":t.setAttribute("data-order","downOn");break;case"upOn":t.setAttribute("data-order","upOff");break;case"downOn":t.setAttribute("data-order","downOff")}return $W.Grilla.buscar(e)},_createRows=function(e,t,n,i,r,a,o,l){var d,s,u,c,f,p,v,h,m;m=GRILLA[e].url,c="",d=0;for(p in n)hasProp.call(n,p)&&(v=n[p],d++,f=_createCol(e,v.idRow,v.cols),u="",u=i===!0?"$W.Grilla.fOpen('"+e+"', '"+v.idRow+"', '"+r+"', '"+a+"', '"+o+"', '"+l+"',true)":""===i?"":i+"("+v.idRow+", this, this.id)",s="[]"!==v.ctxmenu?"oncontextmenu='$W.CtxMenuDom({objApply:this, items:"+v.ctxmenu+"},event); return false;'":"",h='<div id="grilla_fila_'+e+"_"+v.idRow+'" class="grilla_fila" ondblclick="'+u+'" '+s+' data-state="'+t+'" data-index="'+v.idRow+'"> <div id="MuestraToltip_'+e+"_"+v.idRow+'" class="grilla_col_first"> <div id="grilla_fila_image_'+e+"_"+v.idRow+'" class="grilla_fila_image" data-icon="'+t+'"></div> <div id="grilla_fila_cont_'+e+"_"+v.idRow+'" class="grilla_fila_cont">'+d+"</div> </div> "+f+" </div>",c+="fUpdate"!==t&&"updateRow"!==t?'<div id="grilla_content_fila_'+e+"_"+v.idRow+'" class="grilla_content_fila" data-index="'+v.idRow+'" data-cont="'+d+'" style="float:left; width:100%;">'+h+"</div>":h);return c},_createCol=function(e,t,n){var i,r,a;i="";for(r in n)hasProp.call(n,r)&&(a=n[r],i+='<div id="div_'+e+"_"+r+"_"+t+'" class="grilla_celdas" style="width:'+a.width+"px; "+a.style+'" data-type="'+a.type+'">'+a.html+"</div>");return i},_createTbar=function(name,idApply,fNameWindow,fAncho,fAlto,fTitle,textBtnNuevo,fPermisoInsert,eventInsert){var url;return url=GRILLA[name].url,document.getElementById(idApply).innerHTML+='<div id="grilla_tbar_'+name+'"></div>',fPermisoInsert===!0||"true"===fPermisoInsert?$W.Tbar({idApply:"grilla_tbar_"+name,items:[{xtype:"button",id:"btn_"+name+"_new",cls:"grilla_add",text:textBtnNuevo,handler:function(){return eventInsert===!0?$W.Grilla.fOpen(name,"",fNameWindow,fAncho,fAlto,fTitle,!0):""!==eventInsert?eval(eventInsert+"()"):void 0}}]}):void 0},_createPagination=function(e,t,n){var i;return i="",n>1&&(i='<div id="grilla_content_page_'+e+'" class="grilla_content_page"> <div>Pagina '+t+" de "+n+'</div> <div data-type="first" class="grilla_page"></div> <div data-type="prev" class="grilla_page"></div> <div data-type="next" class="grilla_page"></div> <div data-type="last" class="grilla_page"></div> </div>'),i}}(Win)}).call(this);