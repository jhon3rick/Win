<html>
	<head>
		<title></title>
		<link rel="stylesheet" href="css/normalize.css" />
		<link rel="stylesheet" href="css/Win.css" />
		<link rel="stylesheet" href="css/Win-loaders.css" />
		<link rel="stylesheet" href="css/icon.css" />

		<!-- STYLE -->
		<!-- <link rel="stylesheet" href="css/Win-theme-dark.css" /> -->
		<link rel="stylesheet" href="css/Win-theme-light.css" />

		<script src="js/Win.js"></script>
		<script src="js/Win.ajax.js"></script>
		<script src="js/Win.form.js"></script>
	</head>
	<body>
		<script type="text/javascript">

			// var myalto  = Ext.getBody().getHeight();
			// var myancho = Ext.getBody().getWidth();

			// Win_Ventana_ = new Ext.Window({
			//     width       : myancho-100,
			//     height      : myalto-50,
			//     id          : 'Win_Ventana_',
			//     title       : '',
			//     modal       : true,
			//     autoScroll  : false,
			//     closable    : false,
			//     autoDestroy : true,
			//     autoLoad    :
			//     {
			//         url     : '.php',
			//         scripts : true,
			//         nocache : true,
			//         params  :
			//         {
			//             var1 : 'var1',
			//             var2 : 'var2',
			//         }
			//     },
			//     tbar        :
			//     [
			//         {
			//             xtype   : 'buttongroup',
			//             columns : 3,
			//             title   : 'Opciones',
			//             style   : 'border-right:none;',
			//             items   :
			//             [
			//                 {
			//                     xtype       : 'button',
			//                     width       : 60,
			//                     height      : 56,
			//                     text        : 'Regresar',
			//                     scale       : 'large',
			//                     iconCls     : 'regresar',
			//                     iconAlign   : 'top',
			//                     hidden      : false,
			//                     handler     : function(){ BloqBtn(this); Win_Ventana_.close(id) }
			//                 }
			//             ]
			//         }
			//     ]
			// }).show();


			Win_ventana_1 = new Win.Window({
				bodyStyle   : '',
				width       : 800,
				height      : 700,
				id          : 'Win_ventana_1',
				title       : 'VENTANA 1',
				titleStyle  : '',
				modal       : true,
				closable    : true,
				drag        : true,
				resize      : true,
				autoLoad    :
				{
			        url     : 'bd.php',
			        params  :
			        {
			            opc : 'prueba_ajax',
			            var2 : 'var2',
			        }
			    },
				tbar        :
				[
					{
						xtype : 'button',
						id    : 'btn_1',
						cls   : 'user_black_36',
						text  : 'Nuevo Usuario',
						handler : function(){ nueva_ventana(); }
					},'-',
					{
						xtype : 'button',
						id    : 'btn_2',
						handler: function () { ajax_load();	}
						// cls   : 'prueba',
						// text  : 'guardar'
					},'->','-',
					{
						xtype : 'button',
						id    : 'btn_1',
						cls   : 'icon-action-black-ic_perm_identity_black_24dp',
						text  : 'Salir',
						handler : function(){ alert(4); nueva_ventana(); }
					},'-',
					{
						xtype : 'tbtext',
						id    : 'btn_1',
						text  : 'una demostracion de un texto largo<br>con salto de linea',
					}
				]
			});

				function nueva_ventana(){

					Win_ventana_2 = new Win.Window({
						apply       : 'prueba',
						bodyStyle   : '',
						width       : 600,
						height      : 500,
						id          : 'Win_ventana_2',
						title       : 'VENTANA 3',
						modal       : true,
						autoScroll  : true,
						closable    : true,
						autoDestroy : true,
						tabPanel    :
						[
							{
						        xtype     : '',
						        scripts : true,
						        nocache : true,
						        params  :
						        {
						            var1 : 'var1',
						            var2 : 'var2',
						        }
						    },
						],
						tbar        :
						[
							{
								xtype : 'button',
								id    : 'btn_1',
								cls   : 'prueba',
								text  : 'guardar<br>archivo',
								handler : function(){ nueva_ventana2(); }
							},
							{
								xtype : 'button',
								id    : 'btn_2',
								cls   : 'prueba',
								handler: function () { ajax_load();	}
								// text  : 'guardar'
							},
						]
					});
				}

				function nueva_ventana2(){
					Win_ventana_3 = new Win.Window({
						apply       : 'prueba',
						bodyStyle   : '',
						width       : 400,
						height      : 300,
						id          : 'Win_ventana_3',
						title       : 'VENTANA 3',
						modal       : true,
						autoScroll  : true,
						closable    : true,
						autoDestroy : true,
						autoLoad    :
						{
					        url     : '.php',
					        params  :
					        {
					            var1 : 'var1',
					            var2 : 'var2',
					        }
					    },
						drag        : true,
						resize      : true,
						tbar        :
						[
							{
								xtype : 'button',
								id    : 'btn_1',
								cls   : 'prueba',
								text  : 'guardar<br>archivo',
								handler : function(){ nueva_ventana2(); }
							},
							{
								xtype : 'button',
								id    : 'btn_2',
								cls   : 'prueba',
								// text  : 'guardar'
							},
						]
					});
				}

				// Win.getButton('btn_1').hiden;
				// prueba = new Win.getButton('btn_1').hiden
				// console.log(prueba)
				// console.log(Win.getButton('btn_1'))


			// array.forEach(function(value,index,element){
			//     console.log(value+'-'+index);
			// });

			// return;
			// AJAX REQUEST
			// Win.Ajax.request({
			// 	url: 'bd.php',
			// 	params: {
			// 		opc: 'prueba_ajax',
			// 		prueba: 1
			// 	},
			// 	success :function (result,xhr){

			//                 if(result == 'true'){ console.log("true"); }
			//                 else{ console.log("false"); }
			//             },
	  //           failure : function(xhr){ console.log("fail"); }
			// })



			function ajax_load () {
				Win.get('win_window_Win_ventana_1').load({
					url: 'bd.php',
					id_ventana : 'Win_ventana_1',
					params: {
						opc: 'prueba_ajax_load',
						prueba: 1
					}
				})
			}

		</script>

	</body>
</html>