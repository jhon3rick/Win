/**
 * win - Libreria para web aplicaciones RIA
 * @version v0.0.1
 * @link    https://github.com/jhon3rick/Win.js#readme
 * @author  Jhon Marroquin (Twitter @jhon3rick || email jhon3rick@gmail.com)
 * @license (MIT)
 */
(function(){"use strict";var t,e={}.hasOwnProperty;t=function(){var t,e,n,i,r,a,o,u,d,l;return i=[],o=Object.prototype,a=/^\s*<(\w+|!)[^>]*>/,n=[1,9,11],e=/^\.([\w-]+)$/,r=/^#[\w\d-]+$/,u=/^[\w-]+$/,t=function(e,n){var i;return e?"function"===t.toType(e)?t(document).ready(e):(i=d(e,n),l(i,e)):l()},t.query=function(t,n){var i;return e.test(n)?i=t.getElementsByClassName(n.replace(".","")):u.test(n)?i=t.getElementsByTagName(n):r.test(n)&&t===document?(i=t.getElementById(n.replace("#","")),i||(i=[])):i=t.querySelectorAll(n),i.nodeType?[i]:Array.prototype.slice.call(i)},t.toType=function(t){var e;return e=o.toString.call(t).match(/\s([a-z|A-Z]+)/),e.length>1?e[1].toLowerCase():"object"},t.each=function(e,n){var i,r,a,o,u;if(r=void 0,o=void 0,"array"===t.toType(e))for(r=a=0,u=e.length;u>a;r=++a)i=e[r],n.call(i,r,i)===!1;else for(o in e)n.call(e[o],o,e[o])===!1;return e},l=function(t,e){return null==e&&(e=""),t=t||i,t.selector=e,t.__proto__=l.prototype,t},d=function(e,i){var r,o;return r=null,o=t.toType(e),"array"===o?r=_compact(e):"string"===o&&a.test(e)?(r=_fragment(e.trim(),RegExp.$1),e=null):"string"===o?(r=t.query(document,e),i&&(r=1===r.length?t.query(r[0],i):t.map(function(){return t.query(r,i)}))):(n.indexOf(e.nodeType)>=0||e===window)&&(r=[e],e=null),r},l.prototype=t.fn={},t.fn.each=function(t){return this.forEach(function(e,n){return t.call(e,n,e)}),this},t.fn.forEach=i.forEach,t.version="0.0.1",t}(),this.Win=this.$W=t,"undefined"!=typeof module&&null!==module&&(module.exports=t),function(t){return t.ini=function(e){var n,i,r,a,o,u;if(e.theme){for(o=t("head > link"),r=0,a=o.length;a>r;r++)if(i=o[r],/Win-theme/g.test(i.getAttribute("href")))return n=i.getAttribute("href").split("Win-theme",1),void i.setAttribute("href",n+e.theme);return u=document.createElement("link"),u.setAttribute("rel","stylesheet"),u.setAttribute("href",e.theme),t("head")[0].appendChild(u)}}}(t),function(t){return t.fn.attr=function(e,n){return this.length>0&&"string"===t.toType(e)?null!=n?this.each(function(){return this.setAttribute(e,n)}):this[0].getAttribute(e):void 0},t.fn.removeAttr=function(e){return this.length>0&&"string"===t.toType(e)?this.each(function(){return this.removeAttribute(e)}):void 0},t.fn.data=function(t,e){return this.attr("data-"+t,e)},t.fn.removeData=function(t){return this.removeAttr("data-"+t)},t.fn.val=function(t){return null!=t?this.each(function(){return this.value=t.toString()}):this.length>0?this[0].value:null},t.fn.show=function(){return this.style("display","block")},t.fn.hide=function(){return this.style("display","none")},t.fn.focus=function(){return this[0].focus()},t.fn.blur=function(){return this[0].blur()},t.fn.offset=function(){var t,e;return this.length>0&&(t=this[0].getBoundingClientRect(),e={left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}),e}}(t),function(t){var e,n,i;return e=["-webkit-","-moz-","-ms-","-o-",""],t.fn.addClass=function(t){return this.each(function(){var e,i,r,a,o;for(r=n(t),a=[],e=0,i=r.length;i>e;e++)o=r[e],a.push(this.classList.add(o));return a})},t.fn.removeClass=function(t){return this.each(function(){var e,i,r,a,o;for(r=n(t),a=[],e=0,i=r.length;i>e;e++)o=r[e],a.push(this.classList.remove(o));return a})},t.fn.toggleClass=function(t){return this.each(function(){var e,i,r,a,o;for(r=n(t),a=[],e=0,i=r.length;i>e;e++)o=r[e],a.push(this.classList.toggle(o));return a})},t.fn.hasClass=function(t){return this.length>0&&this[0].classList.contains(t)},t.fn.listClass=function(){return this.length>0?this[0].classList:void 0},t.fn.style=t.fn.css=function(t,e){var n;return null!=e?this.each(function(){return this.style[t]=e}):(n=this[0],n.style[t]||i(n,t))},t.fn.vendor=function(t,n){var i,r,a,o;for(o=[],i=0,r=e.length;r>i;i++)a=e[i],o.push(this.style(""+a+t,n));return o},i=function(t,e){return document.defaultView.getComputedStyle(t,"")[e]},n=function(t){return Array.isArray(t)||(t=[t]),t}}(t),function(t){var e,n,i,r,a,o,u,d,l,c,s,p,f;return e=1,r={},i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",orientationchange:"resize"},a=/complete|loaded|interactive/,t.fn.on=function(e,n,i){return null==n||"function"===t.toType(n)?this.bind(e,n):this.delegate(n,e,i)},t.fn.off=function(e,n,i){return null==n||"function"===t.toType(n)?this.unbind(e,n):this.undelegate(n,e,i)},t.fn.ready=function(e){return a.test(document.readyState)?e.call(this,t):t.fn.addEvent(document,"DOMContentLoaded",function(){return e.call(this,t)})},t.fn.bind=function(t,e){return this.forEach(function(n){return p(n,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){return f(this,t,e)})},t.fn.delegate=function(e,n,i){return this.each(function(r,a){return p(a,n,i,e,function(n){return function(i){var r,u;return u=t(i.target).closest(e,a).get(0),u?(r=t.extend(o(i),{currentTarget:u,liveFired:a}),n.apply(u,[r].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){return f(this,e,n,t)})},t.fn.trigger=function(e,n,i){return"string"===t.toType(e)&&(e=l(e,n)),null!=i&&(e.originalEvent=i),this.each(function(){return this.dispatchEvent(e)})},t.fn.addEvent=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},t.fn.removeEvent=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},l=function(t,e){var n;return n=document.createEvent("Events"),n.initEvent(t,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),e&&(n.touch=e),n},p=function(e,n,i,a,o){var l,c,p,f;return n=d(n),p=s(e),c=r[p]||(r[p]=[]),l=o&&o(i,n),f={event:n,callback:i,selector:a,proxy:u(l,i,e),delegate:l,index:c.length},c.push(f),t.fn.addEvent(e,f.event,f.proxy)},f=function(e,n,i,a){var o;return n=d(n),o=s(e),c(o,n,i,a).forEach(function(n){return delete r[o][n.index],t.fn.removeEvent(e,n.event,n.proxy)})},s=function(t){return t._id||(t._id=e++)},d=function(e){var i;return i=("function"==typeof t.isMobile?t.isMobile():void 0)?e:n[e],i||e},u=function(t,e,n){var i;return e=t||e,i=function(t){var i;return i=e.apply(n,[t].concat(t.data)),i===!1&&t.preventDefault(),i}},c=function(t,e,n,i){return(r[t]||[]).filter(function(t){return t&&(!e||t.event===e)&&(!n||t.callback===n)&&(!i||t.selector===i)})},o=function(e){var n;return n=t.extend({originalEvent:e},e),t.each(i,function(t,i){return n[t]=function(){return this[i]=function(){return!0},e[t].apply(e,arguments)},n[i]=function(){return!1}}),n}}(t),function(t){var e,n,i,r;return e="parentNode",t.fn.find=function(e){var n;return n=1===this.length?Quo.query(this[0],e):this.map(function(){return Quo.query(this,e)}),t(n)},t.fn.parent=function(t){var r;return r=t?i(this):this.instance(e),n(r,t)},t.fn.children=function(t){var e;return e=this.map(function(){return Array.prototype.slice.call(this.children)}),n(e,t)},t.fn.siblings=function(t){var e;return e=this.map(function(t,e){return Array.prototype.slice.call(e.parentNode.children).filter(function(t){return t!==e})}),n(e,t)},t.fn.get=function(t){return this[t]||null},t.fn.first=function(){return t(this[0])},t.fn.last=function(){return t(this[this.length-1])},t.fn.closest=function(e,n){var i,r;for(r=this[0],i=t(e),i.length||(r=null);r&&i.indexOf(r)<0;)r=r!==n&&r!==document&&r.parentNode;return t(r)},t.fn.next=function(){return r.call(this,"nextSibling")},t.fn.prev=function(){return r.call(this,"previousSibling")},t.fn.instance=function(t){return this.map(function(){return this[t]})},t.fn.map=function(e){return t.map(this,function(t,n){return e.call(t,n,t)})},i=function(e){var n;for(n=[];e.length>0;)e=t.map(e,function(t){return t=t.parentNode,t!==document&&n.indexOf(t)<0?(n.push(t),t):void 0});return n},n=function(e,n){return null!=n?t(e).filter(n):t(e)},r=function(e){var n;for(n=this[0][e];n&&1!==n.nodeType;)n=n[e];return t(n)}}(t),function(t){return t.fn.text=function(t){return null!=t?this.each(function(){return this.textContent=t}):this.length>0?this[0].textContent:""},t.fn.html=function(e){var n;return null!=e?(n=t.toType(e),this.each(function(){return"string"===n?this.innerHTML=e:"array"===n?e.forEach(function(e){return function(n){return t(e).html(n)}}(this)):this.innerHTML+=t(e).html()})):this.length>0?this[0].innerHTML:""},t.fn.remove=function(){return this.each(function(){return null!=this.parentNode?this.parentNode.removeChild(this):void 0})},t.fn.empty=function(){return this.each(function(){return this.innerHTML=null})},t.fn.append=function(e){var n;return n=t.toType(e),this.each(function(){return"string"===n?this.insertAdjacentHTML("beforeend",e):"array"===n?e.forEach(function(e){return function(n){return t(e).append(n)}}(this)):this.appendChild(e)})},t.fn.prepend=function(e){var n;return n=t.toType(e),this.each(function(){return"string"===n?this.insertAdjacentHTML("afterbegin",e):"array"===n?e.each(function(t){return function(e,n){return t.insertBefore(n,t.firstChild)}}(this)):this.insertBefore(e,this.firstChild)})},t.fn.replaceWith=function(e){var n;return n=t.toType(e),this.each(function(){return this.parentNode?"string"===n?this.insertAdjacentHTML("beforeBegin",e):"array"===n?e.each(function(t){return function(e,n){return t.parentNode.insertBefore(n,t)}}(this)):this.parentNode.insertBefore(e,this):void 0}),this.remove()}}(t),function(t){var e,n,i,r,a,o,u,d,l;return t.Form={},t.Form.field=function(e){switch(e.type){case"integer":return t("#"+e.idApply).addClass+=" win-input-number",t("#"+e.idApply)[0].onkeypress=function(t){return a({event:t,eventType:"keypress",input:this})},t("#"+e.idApply)[0].onchange=function(t){return a({event:t,eventType:"change",input:this})};case"double":return t("#"+e.idApply).addClass+=" win-input-number",t("#"+e.idApply)[0].onkeypress=function(t){return i({event:t,eventType:"keypress",input:this})},t("#"+e.idApply)[0].onchange=function(t){return i({event:t,eventType:"change",input:this})};case"text":return t("#"+e.idApply)[0].onkeyup=function(t){return d({event:t,eventType:"keyup",input:this,option:e.option})},t("#"+e.idApply)[0].onchange=function(t){return d({event:t,eventType:"change",input:this,option:e.option})};case"email":return t("#"+e.idApply)[0].onchange=function(t){return r({event:t,input:this})};case"date":return n(e);case"percent":return t("#"+e.idApply)[0].onkeydown=function(t){return 13===t.keyCode?u({event:t,eventType:"keypress",input:this}):void 0},t("#"+e.idApply)[0].onchange=function(t){return u({event:t,input:this})}}},t.Form.validate=function(t){var e;return e=document.getElementById(t).querySelectorAll("input, textarea, select"),[].forEach.call(e,function(t){var e;switch(e=t.getAttribute("data-validate")){case"integer":return t.className+=" win-input-number",t.onkeypress=function(t){return a({event:t,eventType:"keypress",input:this})},t.addEventListener("change",function(t){return a({event:t,eventType:"change",input:this})});case"double":return t.className+=" win-input-number",t.addEventListener("change",function(t){return i({event:t,eventType:"change",input:this})});case"uppercase":return t.className+=" win-input-uppercase",t.addEventListener("change",function(t){return l({event:t,eventType:"change",input:this})});case"lowercase":return t.className+=" win-input-lowercase",t.addEventListener("change",function(t){return o({event:t,eventType:"change",input:this})});case"email":return t.addEventListener("change",function(t){return r({event:t,input:this})});case"percent":return t.addEventListener("change",function(t){return u({event:t,input:this})});case"date":return n(t);default:return t.onkeyup=function(t){return d({event:t,eventType:"keyup",input:this})},t.onchange=function(t){return d({event:t,eventType:"change",input:this})}}})},a=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:"keypress"===t.eventType?/\d/.test(String.fromCharCode(n)):"change"===t.eventType?t.input.value=t.input.value.replace(/[^\d.]/g,""):void 0},i=function(t){var n,i,r;return i=document.all?t.event.keyCode:t.event.which,e(i)?!0:"keypress"===t.eventType?/[\d.]/.test(String.fromCharCode(i)):"change"!==t.eventType||(t.input.value=t.input.value.replace(/[^\d.]/g,""),r=!!t.input.value.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/))?void 0:(n=t.input.value.split("."),t.input.value=n[0]+"."+n[1])},d=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:"change"===t.eventType?t.input.value=t.input.value.replace(/[\#\-\"\']/g,""):void 0},l=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:(t.input.value=t.input.value.replace(/[\#\-\"\']/g,"").toUpperCase(),!0)},o=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:(t.input.value=t.input.value.replace(/[\#\-\"\']/g,"").toUpperCase(),!0)},r=function(t){var e;return e=!!t.input.value.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i),e?void 0:(t.input.value="",t.input.focus())},u=function(t){var e,n,i;return e=1*t.input.getAttribute("data-max"),n=1*t.input.getAttribute("data-min"),i=1*t.input.value,e>=i?i>=n?console.log("valor aceptado"):(alert("no se aceptan  menores a "+n),t.input.value="",t.input.focus()):(alert("no se aceptan muneros mayores a"+e),t.input.value="",t.input.focus()),!0},e=function(t){return 8===t||9===t||0===t||13===t||37===t||38===t||39===t||40===t?!0:!1},n=function(e){var n,i,r,a,o,u,d,l,c,s,p,f,v,h,m,y,g,w,b,E,A,T,x,L,B,k,N,I;return window.addEventListener("click",function(e){return t(".win-calendar-parent")[0]?(s(t("#date_"+b)[0]),e.preventDefault,e.stopPropagation()):void 0}),null!==e?(k="-",b=e.idApply||e.id,g=e.format||"y-m-d",T=e.selected||"",A=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],y=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],I=["D","L","M","M","J","V","S"],E=""!==b?document.getElementById(b)||e:void 0,E.dataset.icon="date","undefined"!=typeof e.value&&(E.value=e.value),m=[],k=g.replace(/[a-zA-Z\d\s]/g,"")[0],w=g.replace(/[^a-zA-Z\d\s]/g,""),N=E.value.split(/[^\d]/),""===E.value?(B=(new Date).getFullYear(),L=(new Date).getMonth(),x=(new Date).getDate()):(m[w[0]]=1*N[0],m[w[1]]=1*N[1],m[w[2]]=1*N[2],B=m.y,L=m.m-1,x=m.d),E.readOnly=!0,E.onclick=function(e){return t(".win-calendar-parent")[0]?void s(t("#date_"+b)[0]):(r(this),h(this),e.preventDefault,e.stopPropagation())},r=function(e){var n,a,o,u,s,f,v,m,y,g,w,A,T,x,k,N,C,_;for(f='<table id="win-calendar-year-'+b+'" cellpadding="0" cellspacing="0" class="win-calendar-year" style="display:table;"></table> <table id="win-calendar-'+b+'" cellpadding="0" cellspacing="0" class="win-calendar"> <tr class="calendar-controls"> <td id="prev-month-'+b+'" class="calendar-change previous">  </td> <td id="title-date-'+b+'" colspan="5" class="calendar-header">'+c(L)+" "+B+('</td> <td id="next-month-'+b+'" class="calendar-change next">  </td> </tr> <tr class="weekDaysTitleRow">'),v=0,y=I.length;y>v;v++)n=I[v],f+="<td>"+n+"</td>";for(a=d(B,L),k=l(B,L),A=0,T=1,7!==k?(A=Math.ceil((k+1+a)/7),w=k+1):w=0,_=(new Date).getDate(),N=(new Date).getMonth(),C=(new Date).getFullYear(),u=m=0,x=A;x>=0?x>m:m>x;u=x>=0?++m:--m){for(f+='<tr class="weekDaysRow">',s=g=0;7>g;s=++g)f+=T===_&&B===C&&L===N&&0===w?'<td id="today" class="weekDaysCell">':'<td class="weekDaysCell">',0===w&&(a>=T&&(f+="<a>"+T+"</a>"),T++),f+="</td>",w>0&&w--;f+="</tr>"}return f+="</table>",t("#date_"+b).length>0?t("#date_"+b).html(f):(o=document.createElement("div"),o.innerHTML=f,o.setAttribute("id","date_"+b),o.setAttribute("class","win-calendar-parent"),t("#"+b)[0].parentNode.insertBefore(o,t("#"+b)[0].nextSibling),p(E,o)),t("#title-date-"+b)[0].onclick=function(t){var n;return n=1*this.innerHTML.split(" ")[1],i(n-5,e),t.preventDefault,t.stopPropagation()},t("#prev-month-"+b)[0].onclick=function(t){return L--,0>L&&(L=11,B--),r(e),h(e),t.preventDefault,t.stopPropagation()},t("#next-month-"+b)[0].onclick=function(t){return L++,L>11&&(L=0,B++),r(e),h(e),t.preventDefault,t.stopPropagation()}},i=function(e,a){var o,u,d,l,c,s,p,m;for(p=e,m=e+6,s="",u=l=0;6>l;u=++l)d=u+6,s+='<div> <div class="date-change-month" data-value="'+u+'">'+A[u].substr(0,3)+'</div> <div class="date-change-month" data-value="'+d+'">'+A[d].substr(0,3)+"</div> </div>";for(o='<tr> <td colspan="2" rowspan="7" class="content-month">'+s+'</td> <td colspan="2" class="content-year"> <div id="change-year-down-'+b+'" class="calendar-change" style="float:left;"> < </div> <div id="change-year-top-'+b+'" class="calendar-change" style="float:right;"> > </div> </td> </tr>',u=c=0;6>c;u=++c)o+='<tr> <td data-year="false">'+p++ +'</td> <td data-year="false">'+m++ +"</td> </tr>";return o+='<tr style="border-top:1px solid #fff;"> <td colspan=2 style="padding:0px; border-right:1px solid #fff;"> <input type="button" style="width:100%; padding:3px;" id="boton-done-calendar-'+b+'" value="Aceptar"> </td> <td colspan=2 style="padding:0px;"> <input type="button" style="width:100%; padding:3px;" value="Volver" id="boton-back-calendar-'+b+'"> </td> </tr>',t("#win-calendar-year-"+b).style("display","table"),t("#win-calendar-"+b).style("display","none"),t("#win-calendar-year-"+b).html(o),t("#win-calendar-year-"+b+" td").onclick=function(t){return console.log(this)},t("#change-year-top-"+b)[0].onclick=function(t){return i(m,a),t.preventDefault,t.stopPropagation()},t("#change-year-down-"+b)[0].onclick=function(t){return i(e-12,a),t.preventDefault,t.stopPropagation()},t("#boton-back-calendar-"+b)[0].onclick=function(t){return n(),t.preventDefault,t.stopPropagation()},t(".date-change-month").on("click",function(t){return f(t,b),t.preventDefault,t.stopPropagation()}),t("#win-calendar-year-"+b+" [data-year] ").on("click",function(t){return v(t,b),t.preventDefault,t.stopPropagation()}),t("#boton-done-calendar-"+b)[0].onclick=function(t){var e,n;return e=document.getElementById(b).getAttribute("data-month"),n=B-document.getElementById(b).getAttribute("data-year"),L=e,B=0>n?B+Math.abs(n):B-n,null!==L&&0!==B&&(r(a),h(a)),t.preventDefault,t.stopPropagation()}},n=function(){return t("#win-calendar-year-"+b).style("display","none"),t("#win-calendar-"+b).style("display","table")},s=function(t){return t.parentNode.removeChild(t)},h=function(e){var n,i,r,a,u,d;for(d=t("#win-calendar-"+b)[0],u=d.getElementsByTagName("a"),a=[],i=0,r=u.length;r>i;i++)n=u[i],a.push(n.onclick=function(){return x=this.innerHTML,e.value=o(x,L,B),s(t("#date_"+b)[0])});return a},o=function(t,e,n){var i,r;return e++,10>e&&(e="0"+e),10>t&&(t="0"+t),i=[],i.y=n,i.m=e,i.d=t,r=i[w[0]]+k+i[w[1]]+k+i[w[2]]},c=function(t){return A[t]},u=function(t){return y[t]},d=function(t,e){return 32-new Date(t,e,32).getDate()},l=function(t,e){var n;return n=new Date(t,e,0).getDay()},p=function(t,e){var n;return n=a(t),e.style.top=n.top+23+"px",e.style.left=n.left+"px"},a=function(t){var e,n,i;if("string"==typeof t)t=document.getElementById(t);else if(!t)return{top:0,left:0};if(i=0,n=0,t.getBoundingClientRect())return e=t.getBoundingClientRect(),{top:e.top,left:e.left};for(;t.offsetParent;)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{top:i,left:n}},v=function(e,n){return t("#win-calendar-year-"+n+" [data-year] ").style("background-color",""),t("#win-calendar-year-"+n+" [data-year] ").style("color",""),e.toElement.setAttribute("style","background-color:#ADADAD;color:#000;"),document.getElementById(n).dataset.year=e.toElement.innerHTML},f=function(e,n){return t(".date-change-month").style("background-color",""),t(".date-change-month").style("color",""),e.toElement.setAttribute("style","background-color:#ADADAD;color:#000;"),document.getElementById(n).dataset.month=e.toElement.getAttribute("data-value")}):void 0}}(t),function(t){var n,i,r,a,o,u,d,l,c,s,p,f,v,h,m,y,g,w,b,E,A,T;return n=0,r={},i=!1,t.Window=function(e){var i,r,o,u,d,l,c,s,p,f,v,m,g,w,b,E,A,x,L,B,k,N,I,C,_;return I=e.width||300,v=e.height||300,w=e.id||"",B=e.title||"",k=e.titleStyle||"",E=e.modal||"",i=e.autoDestroy||"",r=e.autoLoad||"",g=e.html||"",f=e.drag||"",L=e.theme||"",x=e.style||"",c=e.bodyStyle||"",l=e.bodyColor||"#FFF",d=t("body")[0],A=this,s="undefined"!=typeof e.type&&""!==e.type?"alert":"",_=document.createElement("div"),o=e.bgBody?"background-color:"+e.bgBody+";":"",u=e.bgTitle?"background-color:"+e.bgTitle+";":"",p=e.closable!==!1?'<div class="win-title-btn" id="btn_close_ventana_'+w+'" onclick="'+w+'.close()"></div>':"",isNaN(I)?"auto"===I&&(I="calc(100% - 20px)"):I+="px",isNaN(v)?"auto"===v&&(v="calc(100% - 20px)"):v+="px",""===w&&n++,_.innerHTML+='<div id="win-modal-'+w+'" class="win-modal"> <div id="'+w+'" style="width:'+I+"; height:"+v+"; "+o+" "+x+'" class="win-marco"> <div class="win-file-resize" data-resize="top" id="win-resize-top-'+w+'"></div> <div class="win-file-resize" data-resize="bottom" id="win-resize-bottom-'+w+'"></div> <div class="win-file-resize" data-resize="left" id="win-resize-left-'+w+'"></div> <div class="win-file-resize" data-resize="right" id="win-resize-right-'+w+'"></div> <div class="win-modal-parent" id="win-modal-window_'+w+'"> <div class="win-modal-content"> <div class="win-loader-default" id="win-loader-'+w+'"></div> <div class="win-modal-label" id="label-load-'+w+'"></div> </div> </div> <header id="win-header-'+w+'"> <div class="win-title" id="win-title-'+w+'" style="'+u+" "+k+'"> <div class="win-title-txt">'+B+"</div> "+p+' </div> </header> <section id="win-section-'+w+'" style="height:calc(100% - 27px);" data-role="win-section"></section> </div> </div>',d.appendChild(_),C=document.getElementById(w).offsetWidth,m=document.getElementById(w).offsetHeight,b=d.offsetWidth<C/2?0:(d.offsetWidth-C)/2,N=d.offsetHeight<m/2?0:(d.offsetHeight-m)/2,t("#"+w).css("left",b+"px").css("top",N+"px"),e.resize&&(h(t("#win-resize-top-"+w)[0]),h(t("#win-resize-bottom-"+w)[0]),h(t("#win-resize-left-"+w)[0]),h(t("#win-resize-right-"+w)[0])),e.tbar&&console.log(e.tbar),e.tbar&&T({items:e.tbar},"win-section-"+w),e.items&&y(e.items,"win-section-"+w),e.autoLoad&&a(e,"win-section-"+w),{close:function(){return t("#win-modal-"+w)[0].parentNode.removeChild(t("#win-modal-"+w)[0])}}},t.TabPanel=function(t){var e,i;return t.id?i=t.id:(n++,i="win-tab-"+n),e="",t.items.forEach(json,index,element)(function(){return e+='<div id="'+i+'">'+json.title+"</div>"}),'<div id="'+t.id+'">'+e+"</div>"},t.Add=function(t){var e,n,i;return i=document.getElementById(t.idApply).getAttribute("data-role"),"win-tbar"===i&&(e=document.getElementById(t.idApply).lastChild,null!==e&&(n=e.getAttribute("data-role"),"div-empty"===n&&e.parentNode.removeChild(e))),t.items&&y(t.items,t.idApply),t.autoLoad?a(t,t.idApply):void 0},t.Tbar=function(t){var e;return e=document.getElementById(""+t.idApply),e.className="win-tbar",e.setAttribute("data-role","win-tbar"),y(t.items,t.idApply),setTimeout(function(){return m(document.getElementById(t.idApply).parentNode.id)})},t.Element=function(e){return this.hidden=function(){return t("#"+e).style("display","none"),p(e),r[e].hidden=!0},this.show=function(){return t("#"+e).style("display","block"),p(e),r[e].hidden=!1},this.enable=function(){return document.getElementById(e).setAttribute("data-state","enable"),r[e].state="enable"},this.disable=function(){return document.getElementById(e).setAttribute("data-state","disable"),r[e].state="disable"},this},t.BlockBtn=function(e){return"disable"!==r[e].state?(t.Element(e).disable(),setTimeout(function(){return document.getElementById(e)?t.Element(e).enable():void 0},1500)):void 0},t.Loading=function(e){var i,r,a,o,u,d,l,c,s,p;return e.id?d=e.id:(n++,d="win-loading-"+n),"undefined"==typeof e.id_ventana||"undefined"==typeof e.estado?void console.warn("Funcion: Loading (Mostrar ventana modal)\nFaltan parametros en el objeto\nParametro Obligatorios: id_ventana ,estado"):t("#win-body-"+e.id_ventana)[0]?(c=t("#win-modal-window_"+e.id_ventana)[0],s=e.text||"Load...",l=e.loader||"default","on"===e.estado?(t("#win-modal-window_"+e.id_ventana)[0].innerHTML='<div class="win-modal-content"> <div class="win-loader-default" id="win-loader-'+e.id_ventana+'"></div> <div class="win-modal-label" id="label-load-'+e.id_ventana+'"></div> </div>',c.style.visibility="visible",t("#win-loader-"+e.id_ventana)[0].setAttribute("class","win-loader-"+l),t("#label-load-"+e.id_ventana)[0].innerHTML=s):"off"===e.estado?(u={sucess:"",fail:"",warm:""},e?(o=u[e.icono]||u.sucess,a=e.evento_icono||"",p=e.texto||"OK...",i=e.duracion||"2000",r=e.estilo_texto||"padding-top: 10px;font-size: 12px;color:#FFF;"):(o=u.sucess,a="",p="Informacion Almacenada",i="2000",r="padding-top:10px; font-size:12px; color:#FFF;",t("#win-modal-window_"+e.id_ventana)[0].innerHTML='<div class="win-modal-content"> <div class="win-modal-img-finish"> <img src="'+o+'" onclick="'+a+'"><br> </div> <div class="win-modal-label label-finish">'+p+"</div> <div>",setTimeout(function(){return c.style.visibility="hidden"},i))):void 0):void console.warn("Funcion: Loading (Mostrar ventana modal)\nEl id de la ventana es incorrecto no se encuentra la ventana "+id_ventana)},t.Alert=function(e){var n,i,r,a;return a=250,n=120,r=e.title||"Alert",i=e.text||"",i+='<div class="content-btn"> <input type="button" value="Aceptar" onclick="$W(\'#Win_ventana_alert\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_alert\')[0].parentNode)"> </div>',new t.Window({width:a,height:n,id:"Win_ventana_alert",title:r,html:i,type:"alert",modal:!0,autoScroll:!0,closable:!1,autoDestroy:!0,drag:!1,resize:!1})},t.Confirm=function(e){var n,i,r,a;return a=250,n=120,r=e.title||"Confirm",i=e.text||"",i+='<div class="content-btn"> <input type="button" value="Aceptar" onclick="$W(\'#Win_ventana_confirm\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_confirm\')[0].parentNode); '+e.functionOK+';"> <input type="button" value="Cancelar" onclick="$W(\'#Win_ventana_confirm\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_confirm\')[0].parentNode); return false;"> </div>',new t.Window({width:a,height:n,id:"Win_ventana_confirm",title:r,html:i,type:"alert",modal:!0,autoScroll:!0,closable:!1,autoDestroy:!0,drag:!1,resize:!1})},t.CtxMenu=function(e){return document.getElementById(e.idApply).oncontextmenu=function(n){return e.objApply=n.srcElement,e.clientX=event.clientX,e.clientY=event.clientY,t.Menu(e),!1}},t.Menu=function(t){var n,r,a,o,u;if(a="",d(),i=!0,t.items){u=t.items;for(o in u)e.call(u,o)&&(n=u[o],a+='<div data-option="top-'+o+'"> <div>'+n.text+"</div> </div>")}return r=t.objApply?t.objApply:document.getElementById(t.idElement),r.innerHTML+='<div class="win-menu" data-role="win-menu" style="top:'+event.clientY+"px; left:"+event.clientX+'px;">'+a+"</div>",t.items?setTimeout(function(){var i,r;i=t.items,r=[];for(o in i)e.call(i,o)&&(n=i[o],r.push(f(t.idApply,o,n.handler)));return r}):void 0},f=function(t,e,n){return document.getElementById(t).querySelector("[data-option=top-"+e+"]").onclick=function(){return d(),n(this)}},d=function(){var t;return i===!0&&(t=document.querySelectorAll("[data-role=win-menu]"),[].forEach.call(t,function(t){return t.parentNode.removeChild(t)})),i=!1},y=function(t,e){var n;return"object"==typeof t&&(n="left",t.forEach(function(t,i,r){switch(t.xtype){case"button":return o(t,e);case"buttongroup":return u(t,e);case"tbar":return T(t,e);case"panel":return v(t,e);case"tabpanel":return E(t,e);case"tab":return b(t,e);case"tbtext":return A(t,e);default:if("-"===t)return g(e);if("--"===t)return w(e);if("->"===t)return n="right",document.getElementById(e).innerHTML+='<div data-role="div-empty"></div>'}}),"left"===n)?document.getElementById(e).innerHTML+='<div data-role="div-empty"></div>':void 0},E=function(t,e){var i,r,a,o,u,d,l;return d=t.style||"",r=t.height||"",i="",isNaN(l)||(l+="px"),isNaN(r)||(r+="px"),""!==r&&(i="calc(100% - "+r+")"),t.id?u=t.id:(n++,u="win-tabpanel-"+n),o='<div id="'+u+'" class="win-tabpanel" style="height:'+r+"; "+d+'" data-role="win-tabpanel"></div> <div id="win-tabpanel-body-'+u+'" class="win-tabpanel-body" style="height:'+i+';"></div>',document.getElementById(e).innerHTML+=o,t.items&&y(t.items,u),a=document.getElementById(u).offsetHeight,document.getElementById("win-tabpanel-body-"+u).style.height="calc(100% - "+a+"px)"},b=function(e,i){var r,a,o;return o=e.title||"",r=e.iconCls||"",e.id?a=e.id:(n++,a="win-tab-"+n),document.getElementById(i).innerHTML+='<div id="'+a+'"class="win-tab" data-activo="false" data-load="false"><span class="icon-tab form"></span><span>'+o+"</span></div>",document.getElementById("win-tabpanel-body-"+i).innerHTML+='<div id="win-tab-body-'+a+'" class="win-tab-body" style="height:100%; overflow:hidden;" data-activo="false">'+a+"</div>",setTimeout(function(){return document.getElementById(a).onclick=function(){var n;return t("#"+i+" > [data-activo=true]").attr("data-activo","false"),this.setAttribute("data-activo","true"),t("#win-tabpanel-body-"+i+" > [data-activo=true]").attr("data-activo","false"),t("#win-tab-body-"+a).attr("data-activo","true"),n=this.getAttribute("data-load"),"false"===n?(this.setAttribute("data-load","true"),e.autoLoad.idApply="win-tab-body-"+a,t.Load(e.autoLoad)):void 0}})},v=function(e,i){var r,a,o,u,d,l;return l=e.width||"160",r=e.height||"60",a=e.html||"",u=e.style||"",d=e.title||"",e.id?o=e.id:(n++,o=n),""!==d&&(r-=20,d='<div id="win-panel-title-'+o+'" style="width:'+l+"; height:20px; "+u+'" class="win-panel-title">'+d+"</div>"),isNaN(l)||(l+="px"),isNaN(r)||(r+="px"),a='<div id="win-panel-'+o+'" class="win-panel" style="width:'+l+"; height:"+r+"; "+u+'" data-role="win-panel"> '+d+' <div id="win-panel-load-'+o+'" class="win-panel-load" style="width:'+l+"; height:"+r+"; "+u+'"> '+a+" </div> </div>",document.getElementById(i).innerHTML+=a,e.autoLoad?setTimeout(function(){return e.autoLoad.idApply="win-panel-load-"+o,t.Load(e.autoLoad)}):e.items?y(e.items,"win-panel-load-"+o):void 0},T=function(t,e){var i;return t.id?i=t.id:(n++,i="win-tbar-"+n),document.getElementById(e).innerHTML+='<div id="'+i+'" class="win-tbar" data-role="win-tbar"></div>',t.items&&y(t.items,""+i),setTimeout(function(){return m(document.getElementById(i).parentNode.id)})},u=function(t,e){var i,a,o,u,d,l,c,s,p;if(i=t.hidden||"",p=t.width||0,c=t.style||"",s=t.title||"",0===p&&t.items)for(l=t.items,u=0,d=l.length;d>u;u++)o=l[u],o.hidden||(p+=o.width>0?o.width||60:void 0);return isNaN(p)||(p+="px"),i===!0&&(i="display:none;"),t.id?a=t.id:(n++,a=n),r[a]={state:"enable",hidden:i},""!==s&&(s='<div id="win-buttongroup-title-'+a+'" style="height:20px;" class="win-buttongroup-title">'+s+"</div>"),document.getElementById(e).innerHTML+='<div id="'+a+'" class="win-buttongroup" style="width:'+p+"; "+i+" "+c+'" data-role="win-buttongroup"> '+s+' <div id="win-buttongroup-body-'+a+'" class="win-buttongroup-body" style="'+c+'"></div> </div>',t.items?y(t.items,"win-buttongroup-body-"+a):void 0},o=function(e,i){var a,o,u,d,l,c;return l=e.text||"",o=e.cls||"save",a=e.align||"top",c=e.width||50,u=e.hidden||!1,e.id?d=e.id:(n++,d="win-btn-"+n),r[d]={state:"enable",hidden:u},isNaN(c)||(c+="px"),document.getElementById(i).innerHTML+='<div id="'+d+'" class="win-btn" style="width:'+c+';" data-role="win-btn"> <button class="'+o+'">'+l+"</button> </div>",p(d),e.handler?setTimeout(function(){return document.querySelector("#"+i+" > #"+d).onclick=function(){return"disable"!==r[d].state?(t.BlockBtn(d),e.handler(this)):void 0}}):void 0},A=function(t,e){var i,r,a,o;return a=t.text||"",o=t.width||120,r=t.style||"left",o>0&&(o+="px"),t.id?i=t.id:(n++,i="win-tbtext-"+n),document.getElementById(e).innerHTML+='<div id="'+i+'" class="win-tbtext" style="width:'+o+"; "+r+'" data-role="win-tbtext">'+a+"</div>"},g=function(t){return document.getElementById(t).innerHTML+='<div class="win-separator" data-role="win-separator">|</div>'},w=function(t){return document.getElementById(t).innerHTML+='<div class="win-separatorHeight" data-role="win-separatorHeight"></div>';
},a=function(e,i){var r,a,o,u,d,l,c;return d=e.items||"",o=e.html||"",c="overflow:hidden;",a=e.clsBody||"",r=e.bodyStyle||"",e.scrollY===!0?c+="overflow-y:auto;":e.scrollX===!0&&(c+="overflow-x:auto;"),e.scroll===!0&&(c="overflow:auto;"),e.idApply?u=e.idApply:(n++,u="win-body-"+n),l=document.getElementById(i),l.innerHTML+='<div id="'+u+'" class="win-body '+a+'" style="'+c+" "+r+'" data-role="win-body">'+o+"</div>",setTimeout(function(){return m(i),e.autoLoad.idApply=u,t.Load(e.autoLoad)})},p=function(t){var e,n,i,r,a,o,u,d;if(document.getElementById(t))return a=document.getElementById(t).getAttribute("data-role"),(a="win-btn")&&(n=document.getElementById(t).parentNode,i=document.getElementById(t).parentNode.parentNode,r=document.getElementById(t).parentNode.parentNode.parentNode,e="",o=n.getAttribute("data-role"),u=i.getAttribute("data-role"),d=r.getAttribute("data-role"),"win-body"===o||"win-section"===o?e=n:"win-body"===u||"win-section"===u?e=i:("win-body"===d||"win-section"===d)&&(e=r),""!==e)?setTimeout(function(){return m(e.id)}):void 0},m=function(t){var e,n,i,r;if(document.getElementById(t))return e=0,i="",n=document.querySelectorAll("#"+t+" > [data-role]"),[].forEach.call(n,function(t){var n;return n=t.getAttribute("data-role"),""===i?"win-body"===n?void(i=t):e+=t.offsetHeight:void 0}),r=0===e?"100%":"calc(100% - "+(e+1)+"px)",""!==i?setTimeout(function(){return i.style.height=r}):void 0},c=function(t,e,n){var i,r,a,o,u,d,c,s,p,f,v;return c=document.getElementById(t),n=n||window.event,f=n.clientX,v=n.clientY,d=c.style.top.replace("px",""),u=c.style.left.replace("px",""),p=parseInt(c.offsetWidth),s=parseInt(c.offsetHeight),r=parseInt(e.offsetWidth),i=parseInt(e.offsetHeight),e.style.cursor="move",a=f-u,o=v-d,document.onmousemove=function(t){var e,n;return t=t||window.event,f=t.clientX,v=t.clientY,e=f-a,n=v-o,0>e&&(e=0),0>n&&(n=0),e+p>r&&(e=r-p),n+s>i&&(n=i-s),l(c,e,n)}},l=function(t,e,n){return t.style.left=e+"px",t.style.top=n+"px"},s=function(t){return t.style.cursor="default",document.onmousemove=function(t){return t.preventDefault}},h=function(t){var e,n,i,r,a,o,u,d,l,c,s,p,f,v,h;return v=0,h=0,f=0,p=0,s=1*t.parentNode.style.top.replace("px",""),c=1*t.parentNode.style.left.replace("px",""),l=t.parentNode,d=t.getAttribute("data-resize"),t.onmousedown=function(t){return n(t)},n=function(t){return v=t.clientX,h=t.clientY,f=parseInt(document.defaultView.getComputedStyle(l).width,10),p=parseInt(document.defaultView.getComputedStyle(l).height,10),document.documentElement.addEventListener("mousemove",e,!1),document.documentElement.addEventListener("mouseup",u,!1)},e=function(t){return"left"===d?i(t):"right"===d?r(t):"top"===d?o(t):"bottom"===d?a(t):void 0},u=function(t){return document.documentElement.removeEventListener("mousemove",e,!1),document.documentElement.removeEventListener("mouseup",u,!1)},i=function(t){return l.style.left=c+t.clientX-v+"px",l.style.width=f-t.clientX+v+"px"},o=function(t){return l.style.top=s+t.clientY-h+"px",l.style.height=p-t.clientY+h+"px"},r=function(t){return t.clientX>=500?l.style.width=f+t.clientX-v+"px":void 0},a=function(t){return t.clientY>=340?l.style.height=p+t.clientY-h+"px":void 0}}}(t),function(t){var e;return t.Ajax=function(t){var e,n,i,r,a;if(i="","undefined"!=typeof t.params)for(r in t.params)i+=""===i?r+"="+t.params[r]:"&"+r+"="+t.params[r];return a=new XMLHttpRequest,e=t.url,n=t.method||"POST",a.open(n,e,!0),"POST"===n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded",!0),a.onreadystatechange=function(){var e;return 4===a.readyState?(e=a,t.success(e,a)):t.failure?t.failure(a):void 0},a.send(i)},t.Load=function(t){var n,i,r,a,o,u;if(!t.idApply)return void alert("idApply Obligatorio");if("null"==typeof document.getElementById(t.idApply))return void alert("No se encontro elemento en el arbol Dom");if(r="","undefined"!=typeof t.params)for(o in t.params)r+=""===r?o+"="+t.params[o]:"&"+o+"="+t.params[o];return a=t.text||"cargando...",document.getElementById(t.idApply).innerHTML='<div class="win-content-min-load" > <div class="win-content-min-load-img"> <div class="win-min-load-ajax"></div> </div> <div class="win-content-min-load-label">'+a+"</div> </div>",u=new XMLHttpRequest,n=t.url+"?",i=t.method||"POST",u.open(i,n,!0),"POST"===i&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded",!0),u.onreadystatechange=function(){var n;return 4===u.readyState?(n=document.getElementById(t.idApply),404===u.status?n.innerHTML="Not found":(n.innerHTML=u.responseText,e(n))):void 0},u.send(r)},e=function(t){var e,n,i,r,a,o;for(o=t.getElementsByTagName("script"),r=[],n=0,i=o.length;i>n;n++)e=o[n],a=document.createElement("script"),a.innerHTML=e.innerHTML,r.push(e.parentNode.replaceChild(a,e));return r}}(t)}).call(this);