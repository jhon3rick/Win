/**
 * win - Libreria para web aplicaciones RIA
 * @version v0.2
 * @link    https://github.com/jhon3rick/Win.js#readme
 * @author  Jhon Marroquin (Twitter @jhon3rick || email jhon3rick@gmail.com)
 * @license (MIT)
 */
(function(){"use strict";var Win,hasProp={}.hasOwnProperty;Win=function(){var t,e,n,i,r,a,o,d,u,l;return i=[],o=Object.prototype,a=/^\s*<(\w+|!)[^>]*>/,n=[1,9,11],e=/^\.([\w-]+)$/,r=/^#[\w\d-]+$/,d=/^[\w-]+$/,t=function(e,n){var i;return e?"function"===t.toType(e)?t(document).ready(e):(i=u(e,n),l(i,e)):l()},t.query=function(t,n){var i;return e.test(n)?i=t.getElementsByClassName(n.replace(".","")):d.test(n)?i=t.getElementsByTagName(n):r.test(n)&&t===document?(i=t.getElementById(n.replace("#","")),i||(i=[])):i=t.querySelectorAll(n),i.nodeType?[i]:Array.prototype.slice.call(i)},t.toType=function(t){var e;return e=o.toString.call(t).match(/\s([a-z|A-Z]+)/),e.length>1?e[1].toLowerCase():"object"},t.each=function(e,n){var i,r,a,o,d;if(r=void 0,o=void 0,"array"===t.toType(e))for(r=a=0,d=e.length;d>a;r=++a)i=e[r],n.call(i,r,i)===!1;else for(o in e)n.call(e[o],o,e[o])===!1;return e},l=function(t,e){return null==e&&(e=""),t=t||i,t.selector=e,t.__proto__=l.prototype,t},u=function(e,i){var r,o;return r=null,o=t.toType(e),"array"===o?r=_compact(e):"string"===o&&a.test(e)?(r=_fragment(e.trim(),RegExp.$1),e=null):"string"===o?(r=t.query(document,e),i&&(r=1===r.length?t.query(r[0],i):t.map(function(){return t.query(r,i)}))):(n.indexOf(e.nodeType)>=0||e===window)&&(r=[e],e=null),r},l.prototype=t.fn={},t.fn.each=function(t){return this.forEach(function(e,n){return t.call(e,n,e)}),this},t.fn.forEach=i.forEach,t.version="0.0.1",t}(),this.Win=this.$W=Win,"undefined"!=typeof module&&null!==module&&(module.exports=Win),function(t){return t.ini=function(e){var n,i,r,a,o,d;if(e.theme){for(o=t("head > link"),r=0,a=o.length;a>r;r++)if(i=o[r],/Win-theme/g.test(i.getAttribute("href")))return n=i.getAttribute("href").split("Win-theme",1),void i.setAttribute("href",n+e.theme);return d=document.createElement("link"),d.setAttribute("rel","stylesheet"),d.setAttribute("href",e.theme),t("head")[0].appendChild(d)}}}(Win),function(t){return t.fn.attr=function(e,n){return this.length>0&&"string"===t.toType(e)?null!=n?this.each(function(){return this.setAttribute(e,n)}):this[0].getAttribute(e):void 0},t.fn.removeAttr=function(e){return this.length>0&&"string"===t.toType(e)?this.each(function(){return this.removeAttribute(e)}):void 0},t.fn.data=function(t,e){return this.attr("data-"+t,e)},t.fn.removeData=function(t){return this.removeAttr("data-"+t)},t.fn.val=function(t){return null!=t?this.each(function(){return this.value=t.toString()}):this.length>0?this[0].value:null},t.fn.show=function(){return this.style("display","block")},t.fn.hide=function(){return this.style("display","none")},t.fn.focus=function(){return this[0].focus()},t.fn.blur=function(){return this[0].blur()},t.fn.offset=function(){var t,e;return this.length>0&&(t=this[0].getBoundingClientRect(),e={left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}),e}}(Win),function(t){var e,n,i;return e=["-webkit-","-moz-","-ms-","-o-",""],t.fn.addClass=function(t){return this.each(function(){var e,i,r,a,o;for(r=n(t),a=[],e=0,i=r.length;i>e;e++)o=r[e],a.push(this.classList.add(o));return a})},t.fn.removeClass=function(t){return this.each(function(){var e,i,r,a,o;for(r=n(t),a=[],e=0,i=r.length;i>e;e++)o=r[e],a.push(this.classList.remove(o));return a})},t.fn.toggleClass=function(t){return this.each(function(){var e,i,r,a,o;for(r=n(t),a=[],e=0,i=r.length;i>e;e++)o=r[e],a.push(this.classList.toggle(o));return a})},t.fn.hasClass=function(t){return this.length>0&&this[0].classList.contains(t)},t.fn.listClass=function(){return this.length>0?this[0].classList:void 0},t.fn.style=t.fn.css=function(t,e){var n;return null!=e?this.each(function(){return this.style[t]=e}):(n=this[0],n.style[t]||i(n,t))},t.fn.vendor=function(t,n){var i,r,a,o;for(o=[],i=0,r=e.length;r>i;i++)a=e[i],o.push(this.style(""+a+t,n));return o},i=function(t,e){return document.defaultView.getComputedStyle(t,"")[e]},n=function(t){return Array.isArray(t)||(t=[t]),t}}(Win),function(t){var e,n,i,r,a,o,d,u,l,s,c,p,f;return e=1,r={},i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",orientationchange:"resize"},a=/complete|loaded|interactive/,t.fn.on=function(e,n,i){return null==n||"function"===t.toType(n)?this.bind(e,n):this.delegate(n,e,i)},t.fn.off=function(e,n,i){return null==n||"function"===t.toType(n)?this.unbind(e,n):this.undelegate(n,e,i)},t.fn.ready=function(e){return a.test(document.readyState)?e.call(this,t):t.fn.addEvent(document,"DOMContentLoaded",function(){return e.call(this,t)})},t.fn.bind=function(t,e){return this.forEach(function(n){return p(n,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){return f(this,t,e)})},t.fn.delegate=function(e,n,i){return this.each(function(r,a){return p(a,n,i,e,function(n){return function(i){var r,d;return d=t(i.target).closest(e,a).get(0),d?(r=t.extend(o(i),{currentTarget:d,liveFired:a}),n.apply(d,[r].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){return f(this,e,n,t)})},t.fn.trigger=function(e,n,i){return"string"===t.toType(e)&&(e=l(e,n)),null!=i&&(e.originalEvent=i),this.each(function(){return this.dispatchEvent(e)})},t.fn.addEvent=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},t.fn.removeEvent=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},l=function(t,e){var n;return n=document.createEvent("Events"),n.initEvent(t,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),e&&(n.touch=e),n},p=function(e,n,i,a,o){var l,s,p,f;return n=u(n),p=c(e),s=r[p]||(r[p]=[]),l=o&&o(i,n),f={event:n,callback:i,selector:a,proxy:d(l,i,e),delegate:l,index:s.length},s.push(f),t.fn.addEvent(e,f.event,f.proxy)},f=function(e,n,i,a){var o;return n=u(n),o=c(e),s(o,n,i,a).forEach(function(n){return delete r[o][n.index],t.fn.removeEvent(e,n.event,n.proxy)})},c=function(t){return t._id||(t._id=e++)},u=function(e){var i;return i=("function"==typeof t.isMobile?t.isMobile():void 0)?e:n[e],i||e},d=function(t,e,n){var i;return e=t||e,i=function(t){var i;return i=e.apply(n,[t].concat(t.data)),i===!1&&t.preventDefault(),i}},s=function(t,e,n,i){return(r[t]||[]).filter(function(t){return t&&(!e||t.event===e)&&(!n||t.callback===n)&&(!i||t.selector===i)})},o=function(e){var n;return n=t.extend({originalEvent:e},e),t.each(i,function(t,i){return n[t]=function(){return this[i]=function(){return!0},e[t].apply(e,arguments)},n[i]=function(){return!1}}),n}}(Win),function(t){var e,n,i,r;return e="parentNode",t.fn.find=function(e){var n;return n=1===this.length?Quo.query(this[0],e):this.map(function(){return Quo.query(this,e)}),t(n)},t.fn.parent=function(t){var r;return r=t?i(this):this.instance(e),n(r,t)},t.fn.children=function(t){var e;return e=this.map(function(){return Array.prototype.slice.call(this.children)}),n(e,t)},t.fn.siblings=function(t){var e;return e=this.map(function(t,e){return Array.prototype.slice.call(e.parentNode.children).filter(function(t){return t!==e})}),n(e,t)},t.fn.get=function(t){return this[t]||null},t.fn.first=function(){return t(this[0])},t.fn.last=function(){return t(this[this.length-1])},t.fn.closest=function(e,n){var i,r;for(r=this[0],i=t(e),i.length||(r=null);r&&i.indexOf(r)<0;)r=r!==n&&r!==document&&r.parentNode;return t(r)},t.fn.next=function(){return r.call(this,"nextSibling")},t.fn.prev=function(){return r.call(this,"previousSibling")},t.fn.instance=function(t){return this.map(function(){return this[t]})},t.fn.map=function(e){return t.map(this,function(t,n){return e.call(t,n,t)})},i=function(e){var n;for(n=[];e.length>0;)e=t.map(e,function(t){return t=t.parentNode,t!==document&&n.indexOf(t)<0?(n.push(t),t):void 0});return n},n=function(e,n){return null!=n?t(e).filter(n):t(e)},r=function(e){var n;for(n=this[0][e];n&&1!==n.nodeType;)n=n[e];return t(n)}}(Win),function(t){return t.fn.text=function(t){return null!=t?this.each(function(){return this.textContent=t}):this.length>0?this[0].textContent:""},t.fn.html=function(e){var n;return null!=e?(n=t.toType(e),this.each(function(){return"string"===n?this.innerHTML=e:"array"===n?e.forEach(function(e){return function(n){return t(e).html(n)}}(this)):this.innerHTML+=t(e).html()})):this.length>0?this[0].innerHTML:""},t.fn.remove=function(){return this.each(function(){return null!=this.parentNode?this.parentNode.removeChild(this):void 0})},t.fn.empty=function(){return this.each(function(){return this.innerHTML=null})},t.fn.append=function(e){var n;return n=t.toType(e),this.each(function(){return"string"===n?this.insertAdjacentHTML("beforeend",e):"array"===n?e.forEach(function(e){return function(n){return t(e).append(n)}}(this)):this.appendChild(e)})},t.fn.prepend=function(e){var n;return n=t.toType(e),this.each(function(){return"string"===n?this.insertAdjacentHTML("afterbegin",e):"array"===n?e.each(function(t){return function(e,n){return t.insertBefore(n,t.firstChild)}}(this)):this.insertBefore(e,this.firstChild)})},t.fn.replaceWith=function(e){var n;return n=t.toType(e),this.each(function(){return this.parentNode?"string"===n?this.insertAdjacentHTML("beforeBegin",e):"array"===n?e.each(function(t){return function(e,n){return t.parentNode.insertBefore(n,t)}}(this)):this.parentNode.insertBefore(e,this):void 0}),this.remove()}}(Win),function(t){var e,n,i,r,a,o,d,u,l;return t.Form={},t.Form.field=function(e){switch(e.type){case"integer":return t("#"+e.idApply).addClass+=" win-input-number",t("#"+e.idApply)[0].onkeypress=function(t){return a({event:t,eventType:"keypress",input:this})},t("#"+e.idApply)[0].onchange=function(t){return a({event:t,eventType:"change",input:this})};case"double":return t("#"+e.idApply).addClass+=" win-input-number",t("#"+e.idApply)[0].onkeypress=function(t){return i({event:t,eventType:"keypress",input:this})},t("#"+e.idApply)[0].onchange=function(t){return i({event:t,eventType:"change",input:this})};case"text":return t("#"+e.idApply)[0].onkeyup=function(t){return u({event:t,eventType:"keyup",input:this,option:e.option})},t("#"+e.idApply)[0].onchange=function(t){return u({event:t,eventType:"change",input:this,option:e.option})};case"email":return t("#"+e.idApply)[0].onchange=function(t){return r({event:t,input:this})};case"date":return n(e);case"percent":return t("#"+e.idApply)[0].onkeydown=function(t){return 13===t.keyCode?d({event:t,eventType:"keypress",input:this}):void 0},t("#"+e.idApply)[0].onchange=function(t){return d({event:t,input:this})}}},t.Form.validate=function(t){var e;return e=document.getElementById(t).querySelectorAll("input, textarea, select"),[].forEach.call(e,function(t){var e;switch(e=t.getAttribute("data-validate")){case"integer":return t.className+=" win-input-number",t.onkeypress=function(t){return a({event:t,eventType:"keypress",input:this})},t.addEventListener("change",function(t){return a({event:t,eventType:"change",input:this})});case"double":return t.className+=" win-input-number",t.addEventListener("change",function(t){return i({event:t,eventType:"change",input:this})});case"uppercase":return t.className+=" win-input-uppercase",t.addEventListener("change",function(t){return l({event:t,eventType:"change",input:this})});case"lowercase":return t.className+=" win-input-lowercase",t.addEventListener("change",function(t){return o({event:t,eventType:"change",input:this})});case"email":return t.addEventListener("change",function(t){return r({event:t,input:this})});case"percent":return t.addEventListener("change",function(t){return d({event:t,input:this})});case"date":return n(t);default:return t.onkeyup=function(t){return u({event:t,eventType:"keyup",input:this})},t.onchange=function(t){return u({event:t,eventType:"change",input:this})}}})},a=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:"keypress"===t.eventType?/\d/.test(String.fromCharCode(n)):"change"===t.eventType?t.input.value=t.input.value.replace(/[^\d.]/g,""):void 0},i=function(t){var n,i,r;return i=document.all?t.event.keyCode:t.event.which,e(i)?!0:"keypress"===t.eventType?/[\d.]/.test(String.fromCharCode(i)):"change"!==t.eventType||(t.input.value=t.input.value.replace(/[^\d.]/g,""),r=!!t.input.value.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/))?void 0:(n=t.input.value.split("."),t.input.value=n[0]+"."+n[1])},u=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:"change"===t.eventType?t.input.value=t.input.value.replace(/[\#\-\"\']/g,""):void 0},l=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:(t.input.value=t.input.value.replace(/[\#\-\"\']/g,"").toUpperCase(),!0)},o=function(t){var n;return n=document.all?t.event.keyCode:t.event.which,e(n)?!0:(t.input.value=t.input.value.replace(/[\#\-\"\']/g,"").toUpperCase(),!0)},r=function(t){var e;return e=!!t.input.value.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i),e?void 0:(t.input.value="",t.input.focus())},d=function(t){var e,n,i;return e=1*t.input.getAttribute("data-max"),n=1*t.input.getAttribute("data-min"),i=1*t.input.value,e>=i?i>=n?console.log("valor aceptado"):(alert("no se aceptan  menores a "+n),t.input.value="",t.input.focus()):(alert("no se aceptan muneros mayores a"+e),t.input.value="",t.input.focus()),!0},e=function(t){return 8===t||9===t||0===t||13===t||37===t||38===t||39===t||40===t?!0:!1},n=function(e){var n,i,r,a,o,d,u,l,s,c,p,f,v,h,y,m,g,w,b,E,T,_,A,x,W,N,L,C;return window.addEventListener("click",function(e){return t(".win-calendar-parent")[0]?(c(t("#date_"+b)[0]),e.preventDefault,e.stopPropagation()):void 0}),null!==e?(N="-",b=e.idApply||e.id,g=e.format||"y-m-d",_=e.selected||"",T=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],C=["D","L","M","M","J","V","S"],E=""!==b?document.getElementById(b)||e:void 0,E.dataset.icon="date","undefined"!=typeof e.value&&(E.value=e.value),y=[],N=g.replace(/[a-zA-Z\d\s]/g,"")[0],w=g.replace(/[^a-zA-Z\d\s]/g,""),L=E.value.split(/[^\d]/),""===E.value?(W=(new Date).getFullYear(),x=(new Date).getMonth(),A=(new Date).getDate()):(y[w[0]]=1*L[0],y[w[1]]=1*L[1],y[w[2]]=1*L[2],W=y.y,x=y.m-1,A=y.d),E.readOnly=!0,E.onclick=function(e){return t(".win-calendar-parent")[0]?void c(t("#date_"+b)[0]):(r(this),h(this),e.preventDefault,e.stopPropagation())},r=function(e){var n,a,o,d,c,f,v,y,m,g,w,T,_,A,N,L,I,B;for(f='<table id="win-calendar-year-'+b+'" cellpadding="0" cellspacing="0" class="win-calendar-year" style="display:table;"></table> <table id="win-calendar-'+b+'" cellpadding="0" cellspacing="0" class="win-calendar"> <tr class="calendar-controls"> <td id="prev-month-'+b+'" class="calendar-change previous">  </td> <td id="title-date-'+b+'" colspan="5" class="calendar-header">'+s(x)+" "+W+('</td> <td id="next-month-'+b+'" class="calendar-change next">  </td> </tr> <tr class="weekDaysTitleRow">'),v=0,m=C.length;m>v;v++)n=C[v],f+="<td>"+n+"</td>";for(a=u(W,x),N=l(W,x),T=0,_=1,7!==N?(T=Math.ceil((N+1+a)/7),w=N+1):w=0,B=(new Date).getDate(),L=(new Date).getMonth(),I=(new Date).getFullYear(),d=y=0,A=T;A>=0?A>y:y>A;d=A>=0?++y:--y){for(f+='<tr class="weekDaysRow">',c=g=0;7>g;c=++g)f+=_===B&&W===I&&x===L&&0===w?'<td id="today" class="weekDaysCell">':'<td class="weekDaysCell">',0===w&&(a>=_&&(f+="<a>"+_+"</a>"),_++),f+="</td>",w>0&&w--;f+="</tr>"}return f+="</table>",t("#date_"+b).length>0?t("#date_"+b).html(f):(o=document.createElement("div"),o.innerHTML=f,o.setAttribute("id","date_"+b),o.setAttribute("class","win-calendar-parent"),t("#"+b)[0].parentNode.insertBefore(o,t("#"+b)[0].nextSibling),p(E,o)),t("#title-date-"+b)[0].onclick=function(t){var n;return n=1*this.innerHTML.split(" ")[1],i(n-5,e),t.preventDefault,t.stopPropagation()},t("#prev-month-"+b)[0].onclick=function(t){return x--,0>x&&(x=11,W--),r(e),h(e),t.preventDefault,t.stopPropagation()},t("#next-month-"+b)[0].onclick=function(t){return x++,x>11&&(x=0,W++),r(e),h(e),t.preventDefault,t.stopPropagation()}},i=function(e,a){var o,d,u,l,s,c,p,y;for(p=e,y=e+6,c="",d=l=0;6>l;d=++l)u=d+6,c+='<div> <div class="date-change-month" data-value="'+d+'">'+T[d].substr(0,3)+'</div> <div class="date-change-month" data-value="'+u+'">'+T[u].substr(0,3)+"</div> </div>";for(o='<tr> <td colspan="2" rowspan="7" class="content-month">'+c+'</td> <td colspan="2" class="content-year"> <div id="change-year-down-'+b+'" class="calendar-change" style="float:left;"> < </div> <div id="change-year-top-'+b+'" class="calendar-change" style="float:right;"> > </div> </td> </tr>',d=s=0;6>s;d=++s)o+='<tr> <td data-year="false">'+p++ +'</td> <td data-year="false">'+y++ +"</td> </tr>";return o+='<tr style="border-top:1px solid #fff;"> <td colspan=2 style="padding:0px; border-right:1px solid #fff;"> <input type="button" style="width:100%; padding:3px;" id="boton-done-calendar-'+b+'" value="Aceptar"> </td> <td colspan=2 style="padding:0px;"> <input type="button" style="width:100%; padding:3px;" value="Volver" id="boton-back-calendar-'+b+'"> </td> </tr>',t("#win-calendar-year-"+b).style("display","table"),t("#win-calendar-"+b).style("display","none"),t("#win-calendar-year-"+b).html(o),t("#win-calendar-year-"+b+" td").onclick=function(t){return console.log(this)},t("#change-year-top-"+b)[0].onclick=function(t){return i(y,a),t.preventDefault,t.stopPropagation()},t("#change-year-down-"+b)[0].onclick=function(t){return i(e-12,a),t.preventDefault,t.stopPropagation()},t("#boton-back-calendar-"+b)[0].onclick=function(t){return n(),t.preventDefault,t.stopPropagation()},t(".date-change-month").on("click",function(t){return f(t,b),t.preventDefault,t.stopPropagation()}),t("#win-calendar-year-"+b+" [data-year] ").on("click",function(t){return v(t,b),t.preventDefault,t.stopPropagation()}),t("#boton-done-calendar-"+b)[0].onclick=function(t){var e,n;return e=document.getElementById(b).getAttribute("data-month"),n=W-document.getElementById(b).getAttribute("data-year"),x=e,W=0>n?W+Math.abs(n):W-n,null!==x&&0!==W&&(r(a),h(a)),t.preventDefault,t.stopPropagation()}},n=function(){return t("#win-calendar-year-"+b).style("display","none"),t("#win-calendar-"+b).style("display","table")},c=function(t){return t.parentNode.removeChild(t)},h=function(e){var n,i,r,a,d,u;for(u=t("#win-calendar-"+b)[0],d=u.getElementsByTagName("a"),a=[],i=0,r=d.length;r>i;i++)n=d[i],a.push(n.onclick=function(){return A=this.innerHTML,e.value=o(A,x,W),c(t("#date_"+b)[0])});return a},o=function(t,e,n){var i,r;return e++,10>e&&(e="0"+e),10>t&&(t="0"+t),i=[],i.y=n,i.m=e,i.d=t,r=i[w[0]]+N+i[w[1]]+N+i[w[2]]},s=function(t){return T[t]},d=function(t){return m[t]},u=function(t,e){return 32-new Date(t,e,32).getDate()},l=function(t,e){var n;return n=new Date(t,e,0).getDay()},p=function(t,e){var n;return n=a(t),e.style.top=n.top+23+"px",e.style.left=n.left+"px"},a=function(t){var e,n,i;if("string"==typeof t)t=document.getElementById(t);else if(!t)return{top:0,left:0};if(i=0,n=0,t.getBoundingClientRect())return e=t.getBoundingClientRect(),{top:e.top,left:e.left};for(;t.offsetParent;)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{top:i,left:n}},v=function(e,n){return t("#win-calendar-year-"+n+" [data-year] ").style("background-color",""),t("#win-calendar-year-"+n+" [data-year] ").style("color",""),e.toElement.setAttribute("style","background-color:#ADADAD;color:#000;"),document.getElementById(n).dataset.year=e.toElement.innerHTML},f=function(e,n){return t(".date-change-month").style("background-color",""),t(".date-change-month").style("color",""),e.toElement.setAttribute("style","background-color:#ADADAD;color:#000;"),document.getElementById(n).dataset.month=e.toElement.getAttribute("data-value")}):void 0}}(Win),function($W){var CONTWIDGET,ELEMENT_ARRAY,_body,_button,_buttonGroup,_deleteCtxMenu,_draggMove,_draggStart,_draggStop,_findResizeBody,_menuOption,_panel,_resize,_resizeBody,_router,_separator,_separatorHeight,_tab,_tabPanel,_tbText,_tbar;return CONTWIDGET=0,ELEMENT_ARRAY={},$W.Window=function(t){var e,n,i,r,a,o,d,u,l,s,c,p,f,v,h,y,m,g,w,b,E,T,_,A,x;return _=t.width||300,c=t.height||300,v=t.id||"",b=t.title||"",E=t.titleStyle||"",y=t.modal||"",e=t.autoDestroy||"",n=t.autoLoad||"",f=t.html||"",s=t.drag||"",w=t.theme||"",g=t.style||"",d=t.bodyStyle||"",o=t.bodyColor||"#FFF",a=$W("body")[0],m=this,u="undefined"!=typeof t.type&&""!==t.type?"alert":"",x=document.createElement("div"),i=t.bgBody?"background-color:"+t.bgBody+";":"",r=t.bgTitle?"background-color:"+t.bgTitle+";":"",l=t.closable!==!1?'<div class="win-title-btn" id="btn_close_ventana_'+v+'" onclick="'+v+'.close()"></div>':"",isNaN(_)?"auto"===_&&(_="calc(100% - 20px)"):_+="px",isNaN(c)?"auto"===c&&(c="calc(100% - 20px)"):c+="px",""===v&&CONTWIDGET++,x.innerHTML+='<div id="win-modal-'+v+'" class="win-modal"> <div id="'+v+'" style="width:'+_+"; height:"+c+"; "+i+" "+g+'" class="win-marco"> <div class="win-file-resize" data-resize="top" id="win-resize-top-'+v+'"></div> <div class="win-file-resize" data-resize="bottom" id="win-resize-bottom-'+v+'"></div> <div class="win-file-resize" data-resize="left" id="win-resize-left-'+v+'"></div> <div class="win-file-resize" data-resize="right" id="win-resize-right-'+v+'"></div> <div class="win-modal-parent" id="win-modal-window_'+v+'"> <div class="win-modal-content"> <div class="win-loader-default" id="win-loader-'+v+'"></div> <div class="win-modal-label" id="label-load-'+v+'"></div> </div> </div> <header id="win-header-'+v+'"> <div class="win-title" id="win-title-'+v+'" style="'+r+" "+E+'"> <div class="win-title-txt">'+b+"</div> "+l+' </div> </header> <section id="win-section-'+v+'" style="height:calc(100% - 27px);" data-role="win-section"></section> </div> </div>',a.appendChild(x),A=document.getElementById(v).offsetWidth,p=document.getElementById(v).offsetHeight,h=a.offsetWidth<A/2?0:(a.offsetWidth-A)/2,T=a.offsetHeight<p/2?0:(a.offsetHeight-p)/2,$W("#"+v).css("left",h+"px").css("top",T+"px"),t.resize&&(_resize($W("#win-resize-top-"+v)[0]),_resize($W("#win-resize-bottom-"+v)[0]),_resize($W("#win-resize-left-"+v)[0]),_resize($W("#win-resize-right-"+v)[0])),t.tbar&&_tbar({items:t.tbar},"win-section-"+v),t.items&&_router(t.items,"win-section-"+v),t.autoLoad&&_body(t,"win-section-"+v),{close:function(){return $W("#win-modal-"+v)[0].parentNode.removeChild($W("#win-modal-"+v)[0])}}},$W.TabPanel=function(t){var e,n;return t.id?n=t.id:(CONTWIDGET++,n="win-tab-"+CONTWIDGET),e="",t.items.forEach(json,index,element)(function(){return e+='<div id="'+n+'">'+json.title+"</div>"}),'<div id="'+t.id+'">'+e+"</div>"},$W.Add=function(t){var e,n,i;return i=document.getElementById(t.idApply).getAttribute("data-role"),"win-tbar"===i&&(e=document.getElementById(t.idApply).lastChild,null!==e&&(n=e.getAttribute("data-role"),"div-empty"===n&&e.parentNode.removeChild(e))),t.items&&_router(t.items,t.idApply),t.autoLoad?_body(t,t.idApply):void 0},$W.Tbar=function(t){var e;return e=document.getElementById(""+t.idApply),e.className="win-tbar",e.setAttribute("data-role","win-tbar"),_router(t.items,t.idApply),setTimeout(function(){return _resizeBody(document.getElementById(t.idApply).parentNode.id)})},$W.Element=function(t){return this.hidden=function(){return $W("#"+t).style("display","none"),_findResizeBody(t),ELEMENT_ARRAY[t].hidden=!0},this.show=function(){return $W("#"+t).style("display","block"),_findResizeBody(t),ELEMENT_ARRAY[t].hidden=!1},this.enable=function(){return document.getElementById(t).setAttribute("data-state","enable"),ELEMENT_ARRAY[t].state="enable"},this.disable=function(){return document.getElementById(t).setAttribute("data-state","disable"),ELEMENT_ARRAY[t].state="disable"},this},$W.BlockBtn=function(t){return"disable"!==ELEMENT_ARRAY[t].state?($W.Element(t).disable(),setTimeout(function(){return document.getElementById(t)?$W.Element(t).enable():void 0},1500)):void 0},$W.Loading=function(t){var e,n,i,r,a,o,d,u,l,s;return t.id?o=t.id:(CONTWIDGET++,o="win-loading-"+CONTWIDGET),"undefined"==typeof t.id_ventana||"undefined"==typeof t.estado?void console.warn("Funcion: Loading (Mostrar ventana modal)\nFaltan parametros en el objeto\nParametro Obligatorios: id_ventana ,estado"):$W("#win-body-"+t.id_ventana)[0]?(u=$W("#win-modal-window_"+t.id_ventana)[0],l=t.text||"Load...",d=t.loader||"default","on"===t.estado?($W("#win-modal-window_"+t.id_ventana)[0].innerHTML='<div class="win-modal-content"> <div class="win-loader-default" id="win-loader-'+t.id_ventana+'"></div> <div class="win-modal-label" id="label-load-'+t.id_ventana+'"></div> </div>',u.style.visibility="visible",$W("#win-loader-"+t.id_ventana)[0].setAttribute("class","win-loader-"+d),$W("#label-load-"+t.id_ventana)[0].innerHTML=l):"off"===t.estado?(a={sucess:"",fail:"",warm:""},t?(r=a[t.icono]||a.sucess,i=t.evento_icono||"",s=t.texto||"OK...",e=t.duracion||"2000",n=t.estilo_texto||"padding-top: 10px;font-size: 12px;color:#FFF;"):(r=a.sucess,i="",s="Informacion Almacenada",e="2000",n="padding-top:10px; font-size:12px; color:#FFF;",$W("#win-modal-window_"+t.id_ventana)[0].innerHTML='<div class="win-modal-content"> <div class="win-modal-img-finish"> <img src="'+r+'" onclick="'+i+'"><br> </div> <div class="win-modal-label label-finish">'+s+"</div> <div>",setTimeout(function(){return u.style.visibility="hidden"},e))):void 0):void console.warn("Funcion: Loading (Mostrar ventana modal)\nEl id de la ventana es incorrecto no se encuentra la ventana "+id_ventana)},$W.Alert=function(t){var e,n,i,r;return r=250,e=120,i=t.title||"Alert",n=t.text||"",n+='<div class="content-btn"> <input type="button" value="Aceptar" onclick="$W(\'#Win_ventana_alert\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_alert\')[0].parentNode)"> </div>',new $W.Window({width:r,height:e,id:"Win_ventana_alert",title:i,html:n,type:"alert",modal:!0,autoScroll:!0,closable:!1,autoDestroy:!0,drag:!1,resize:!1})},$W.Confirm=function(t){var e,n,i,r;return r=250,e=120,i=t.title||"Confirm",n=t.text||"",n+='<div class="content-btn"> <input type="button" value="Aceptar" onclick="$W(\'#Win_ventana_confirm\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_confirm\')[0].parentNode); '+t.functionOK+';"> <input type="button" value="Cancelar" onclick="$W(\'#Win_ventana_confirm\')[0].parentNode.parentNode.removeChild($W(\'#Win_ventana_confirm\')[0].parentNode); return false;"> </div>',new $W.Window({width:r,height:e,id:"Win_ventana_confirm",title:i,html:n,type:"alert",modal:!0,autoScroll:!0,closable:!1,autoDestroy:!0,drag:!1,resize:!1})},$W.CtxMenu=function(t){return document.getElementById(t.idApply).oncontextmenu=function(e){return $W.CtxMenuDom(t,e),!1}},$W.CtxMenuDom=function(t,e){var n,i,r,a;if(e.preventDefault,e.stopPropagation(),$W("[data-role=win-ctxmenu]")[0])return _deleteCtxMenu(),!1;if(window.addEventListener("contextmenu",function(t){return $W("[data-role=win-ctxmenu]")[0]?(_deleteCtxMenu(),t.preventDefault,t.stopPropagation(),!1):void 0}),window.addEventListener("click",function(t){return $W("[data-role=win-ctxmenu]")[0]?(_deleteCtxMenu(),t.preventDefault,t.stopPropagation(),!1):void 0}),i="",t.items){a=t.items;for(r in a)hasProp.call(a,r)&&(n=a[r],i+='<div data-option="top-'+r+'"> <div>'+n.text+"</div> </div>")}return e.target.innerHTML+='<div class="win-ctxmenu" data-role="win-ctxmenu" style="top:'+e.clientY+"px; left:"+e.clientX+'px;">'+i+"</div>",t.items?setTimeout(function(){var i,a;i=t.items,a=[];for(r in i)hasProp.call(i,r)&&(n=i[r],a.push(_menuOption(e.target,r,n.handler)));return a}):void 0},_menuOption=function(element,key,handler){return element.querySelector("[data-option=top-"+key+"]")&&handler?element.querySelector("[data-option=top-"+key+"]").onclick=function(){return"string"==typeof handler?eval(handler):handler(this)}:void 0},_deleteCtxMenu=function(){var t;return t=document.querySelectorAll("[data-role=win-ctxmenu]"),[].forEach.call(t,function(t){return t.parentNode.removeChild(t)})},_router=function(t,e){var n;return"object"==typeof t&&(n="left",t.forEach(function(t,i,r){switch(t.xtype){case"button":return _button(t,e);case"buttongroup":return _buttonGroup(t,e);case"tbar":return _tbar(t,e);case"panel":return _panel(t,e);case"tabpanel":return _tabPanel(t,e);case"tab":return _tab(t,e);case"tbtext":return _tbText(t,e);case"body":return _body(t,e,"router");default:if("-"===t)return _separator(e);if("--"===t)return _separatorHeight(e);if("->"===t)return n="right",document.getElementById(e).innerHTML+='<div data-role="div-empty"></div>'}}),"left"===n)?document.getElementById(e).innerHTML+='<div data-role="div-empty"></div>':void 0},_tabPanel=function(t,e){var n,i,r,a,o,d,u;return d=t.style||"",i=t.height||"",n="",isNaN(u)||(u+="px"),isNaN(i)||(i+="px"),""!==i&&(n="calc(100% - "+i+")"),t.id?o=t.id:(CONTWIDGET++,o="win-tabpanel-"+CONTWIDGET),a='<div id="'+o+'" class="win-tabpanel" style="height:'+i+"; "+d+'" data-role="win-tabpanel"></div> <div id="win-tabpanel-body-'+o+'" class="win-tabpanel-body" style="height:'+n+';"></div>',document.getElementById(e).innerHTML+=a,t.items&&_router(t.items,o),r=document.getElementById(o).offsetHeight,document.getElementById("win-tabpanel-body-"+o).style.height="calc(100% - "+r+"px)"},_tab=function(t,e){var n,i,r;return r=t.title||"",n=t.iconCls||"",t.id?i=t.id:(CONTWIDGET++,i="win-tab-"+CONTWIDGET),document.getElementById(e).innerHTML+='<div id="'+i+'"class="win-tab" data-activo="false" data-load="false"><span class="icon-tab form"></span><span>'+r+"</span></div>",document.getElementById("win-tabpanel-body-"+e).innerHTML+='<div id="win-tab-body-'+i+'" class="win-tab-body" style="height:100%; overflow:hidden;" data-activo="false">'+i+"</div>",setTimeout(function(){return document.getElementById(i).onclick=function(){var n;return $W("#"+e+" > [data-activo=true]").attr("data-activo","false"),this.setAttribute("data-activo","true"),$W("#win-tabpanel-body-"+e+" > [data-activo=true]").attr("data-activo","false"),$W("#win-tab-body-"+i).attr("data-activo","true"),n=this.getAttribute("data-load"),"false"===n?(this.setAttribute("data-load","true"),t.autoLoad.idApply="win-tab-body-"+i,$W.Load(t.autoLoad)):void 0}})},_panel=function(t,e){var n,i,r,a,o,d;return d=t.width||"160",n=t.height||"60",i=t.html||"",a=t.style||"",o=t.title||"",t.id?r=t.id:(CONTWIDGET++,r=CONTWIDGET),""!==o&&(n-=20,o='<div id="win-panel-title-'+r+'" style="width:'+d+"; height:20px; "+a+'" class="win-panel-title">'+o+"</div>"),isNaN(d)||(d+="px"),isNaN(n)||(n+="px"),i='<div id="win-panel-'+r+'" class="win-panel" style="width:'+d+"; height:"+n+"; "+a+'" data-role="win-panel"> '+o+' <div id="win-panel-load-'+r+'" class="win-panel-load" style="width:'+d+"; height:"+n+"; "+a+'"> '+i+" </div> </div>",document.getElementById(e).innerHTML+=i,t.autoLoad?setTimeout(function(){return t.autoLoad.idApply="win-panel-load-"+r,$W.Load(t.autoLoad)}):t.items?_router(t.items,"win-panel-load-"+r):void 0},_tbar=function(t,e){var n;return t.id?n=t.id:(CONTWIDGET++,n="win-tbar-"+CONTWIDGET),document.getElementById(e).innerHTML+='<div id="'+n+'" class="win-tbar" data-role="win-tbar"></div>',t.items&&_router(t.items,""+n),setTimeout(function(){return _resizeBody(document.getElementById(n).parentNode.id)})},_buttonGroup=function(t,e){var n,i,r,a,o,d,u,l,s;if(n=t.hidden||"",s=t.width||0,u=t.style||"",l=t.title||"",0===s&&t.items)for(d=t.items,a=0,o=d.length;o>a;a++)r=d[a],r.hidden||(s+=r.width>0?r.width||60:void 0);return isNaN(s)||(s+="px"),n===!0&&(n="display:none;"),t.id?i=t.id:(CONTWIDGET++,i=CONTWIDGET),ELEMENT_ARRAY[i]={state:"enable",hidden:n},""!==l&&(l='<div id="win-buttongroup-title-'+i+'" style="height:20px;" class="win-buttongroup-title">'+l+"</div>"),document.getElementById(e).innerHTML+='<div id="'+i+'" class="win-buttongroup" style="width:'+s+"; "+n+" "+u+'" data-role="win-buttongroup"> '+l+' <div id="win-buttongroup-body-'+i+'" class="win-buttongroup-body" style="'+u+'"></div> </div>',
t.items?_router(t.items,"win-buttongroup-body-"+i):void 0},_button=function(t,e){var n,i,r,a,o,d;return o=t.text||"",i=t.cls||"save",n=t.align||"top",d=t.width||50,r=t.hidden||!1,t.id?a=t.id:(CONTWIDGET++,a="win-btn-"+CONTWIDGET),ELEMENT_ARRAY[a]={state:"enable",hidden:r},isNaN(d)||(d+="px"),document.getElementById(e).innerHTML+='<div id="'+a+'" class="win-btn" style="width:'+d+';" data-role="win-btn"> <button class="'+i+'">'+o+"</button> </div>",_findResizeBody(a),t.handler?setTimeout(function(){return document.querySelector("#"+e+" > #"+a).onclick=function(){return"disable"!==ELEMENT_ARRAY[a].state?($W.BlockBtn(a),t.handler(this)):void 0}}):void 0},_tbText=function(t,e){var n,i,r,a;return r=t.text||"",a=t.width||120,i=t.style||"left",a>0&&(a+="px"),t.id?n=t.id:(CONTWIDGET++,n="win-tbtext-"+CONTWIDGET),document.getElementById(e).innerHTML+='<div id="'+n+'" class="win-tbtext" style="width:'+a+"; "+i+'" data-role="win-tbtext">'+r+"</div>"},_separator=function(t){return document.getElementById(t).innerHTML+='<div class="win-separator" data-role="win-separator">|</div>'},_separatorHeight=function(t){return document.getElementById(t).innerHTML+='<div class="win-separatorHeight" data-role="win-separatorHeight"></div>'},_body=function(t,e,n){var i,r,a,o,d,u,l;return d=t.items||"",a=t.html||"",l="overflow:hidden;",n=n||"json",r=t.clsBody||"",i=t.bodyStyle||"",t.scrollY===!0?l+="overflow-y:auto;":t.scrollX===!0&&(l+="overflow-x:auto;"),t.scroll===!0&&(l="overflow:auto;"),t.idApply?o=t.idApply:t.id&&"router"===n?o=t.id:(CONTWIDGET++,o="win-body-"+CONTWIDGET),u=document.getElementById(e),u.innerHTML+='<div id="'+o+'" class="win-body '+r+'" style="'+l+" "+i+'" data-role="win-body">'+a+"</div>",setTimeout(function(){return _resizeBody(e),t.autoLoad?(t.autoLoad.idApply=o,$W.Load(t.autoLoad)):void 0})},_findResizeBody=function(t){var e,n,i,r,a,o,d,u;if(document.getElementById(t))return a=document.getElementById(t).getAttribute("data-role"),(a="win-btn")&&(n=document.getElementById(t).parentNode,i=document.getElementById(t).parentNode.parentNode,r=document.getElementById(t).parentNode.parentNode.parentNode,e="",o=n.getAttribute("data-role"),d=i.getAttribute("data-role"),u=r.getAttribute("data-role"),"win-body"===o||"win-section"===o?e=n:"win-body"===d||"win-section"===d?e=i:("win-body"===u||"win-section"===u)&&(e=r),""!==e)?setTimeout(function(){return _resizeBody(e.id)}):void 0},_resizeBody=function(t){var e,n,i,r;if(document.getElementById(t))return e=0,i="",n=document.querySelectorAll("#"+t+" > [data-role]"),[].forEach.call(n,function(t){var n;return n=t.getAttribute("data-role"),""===i?"win-body"===n?void(i=t):e+=t.offsetHeight:void 0}),r=0===e?"100%":"calc(100% - "+(e+1)+"px)",""!==i?setTimeout(function(){return i.style.height=r}):void 0},_draggStart=function(t,e,n){var i,r,a,o,d,u,l,s,c,p,f;return l=document.getElementById(t),n=n||window.event,p=n.clientX,f=n.clientY,u=l.style.top.replace("px",""),d=l.style.left.replace("px",""),c=parseInt(l.offsetWidth),s=parseInt(l.offsetHeight),r=parseInt(e.offsetWidth),i=parseInt(e.offsetHeight),e.style.cursor="move",a=p-d,o=f-u,document.onmousemove=function(t){var e,n;return t=t||window.event,p=t.clientX,f=t.clientY,e=p-a,n=f-o,0>e&&(e=0),0>n&&(n=0),e+c>r&&(e=r-c),n+s>i&&(n=i-s),_draggMove(l,e,n)}},_draggMove=function(t,e,n){return t.style.left=e+"px",t.style.top=n+"px"},_draggStop=function(t){return t.style.cursor="default",document.onmousemove=function(t){return t.preventDefault}},_resize=function(t){var e,n,i,r,a,o,d,u,l,s,c,p,f,v,h;return v=0,h=0,f=0,p=0,c=1*t.parentNode.style.top.replace("px",""),s=1*t.parentNode.style.left.replace("px",""),l=t.parentNode,u=t.getAttribute("data-resize"),t.onmousedown=function(t){return n(t)},n=function(t){return v=t.clientX,h=t.clientY,f=parseInt(document.defaultView.getComputedStyle(l).width,10),p=parseInt(document.defaultView.getComputedStyle(l).height,10),document.documentElement.addEventListener("mousemove",e,!1),document.documentElement.addEventListener("mouseup",d,!1)},e=function(t){return"left"===u?i(t):"right"===u?r(t):"top"===u?o(t):"bottom"===u?a(t):void 0},d=function(t){return document.documentElement.removeEventListener("mousemove",e,!1),document.documentElement.removeEventListener("mouseup",d,!1)},i=function(t){return l.style.left=s+t.clientX-v+"px",l.style.width=f-t.clientX+v+"px"},o=function(t){return l.style.top=c+t.clientY-h+"px",l.style.height=p-t.clientY+h+"px"},r=function(t){return t.clientX>=500?l.style.width=f+t.clientX-v+"px":void 0},a=function(t){return t.clientY>=340?l.style.height=p+t.clientY-h+"px":void 0}}}(Win),function(t){var e;return t.Ajax=function(t){var e,n,i,r,a;if(i="","undefined"!=typeof t.params)for(r in t.params)i+=""===i?r+"="+t.params[r]:"&"+r+"="+t.params[r];return a=new XMLHttpRequest,e=t.url,n=t.method||"POST",a.open(n,e,!0),"POST"===n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded",!0),a.onreadystatechange=function(){var e;return 4===a.readyState?(e=a,t.success(e,a)):t.failure?t.failure(a):void 0},a.send(i)},t.Load=function(t){var n,i,r,a,o,d;if(!t.idApply)return void alert("idApply Obligatorio");if("null"==typeof document.getElementById(t.idApply))return void alert("No se encontro elemento en el arbol Dom");if(r="","undefined"!=typeof t.params)for(o in t.params)r+=""===r?o+"="+t.params[o]:"&"+o+"="+t.params[o];return a=t.text||"cargando...",document.getElementById(t.idApply).innerHTML='<div class="win-content-min-load" > <div class="win-content-min-load-img"> <div class="win-min-load-ajax"></div> </div> <div class="win-content-min-load-label">'+a+"</div> </div>",d=new XMLHttpRequest,n=t.url+"?",i=t.method||"POST",d.open(i,n,!0),"POST"===i&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded",!0),d.onreadystatechange=function(){var n;return 4===d.readyState?(n=document.getElementById(t.idApply),404===d.status?n.innerHTML="Not found":(n.innerHTML=d.responseText,e(n))):void 0},d.send(r)},e=function(t){var e,n,i,r,a,o;for(o=t.getElementsByTagName("script"),r=[],n=0,i=o.length;i>n;n++)e=o[n],a=document.createElement("script"),a.innerHTML=e.innerHTML,r.push(e.parentNode.replaceChild(a,e));return r}}(Win)}).call(this);